{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":92,"column":0,"index":2501}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"6eZFbfKht0uO2NEVT/d8+i8B0s8="}},{"name":"axios","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"4fmpRhA0poIOZPSWyeqhuAF1vD4="}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":92,"column":0,"index":2501}}],"key":"o13xJBIQrtUiTCNVAdR54EGZcWw="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuth = exports.AuthProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[3], \"axios\"));\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // Backend URL with fallback for APK builds\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://resto-pos-hub-2.preview.emergentagent.com';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = _ref => {\n    _s();\n    let {\n      children\n    } = _ref;\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await _asyncStorage.default.getItem('token');\n        const storedUser = await _asyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (phone, password) => {\n      try {\n        const response = await _axios.default.post(`${BACKEND_URL}/api/login`, {\n          phone,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await _asyncStorage.default.setItem('token', newToken);\n        await _asyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      await _asyncStorage.default.removeItem('token');\n      await _asyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this);\n  };\n  exports.AuthProvider = AuthProvider;\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  exports.useAuth = useAuth;\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":96,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_asyncStorage"],[8,19,2,0],[8,22,2,0,"_interopRequireDefault"],[8,44,2,0],[8,45,2,0,"require"],[8,52,2,0],[8,53,2,0,"_dependencyMap"],[8,67,2,0],[9,2,3,0],[9,6,3,0,"_axios"],[9,12,3,0],[9,15,3,0,"_interopRequireDefault"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,3,26],[10,6,3,26,"_jsxDevRuntime"],[10,20,3,26],[10,23,3,26,"require"],[10,30,3,26],[10,31,3,26,"_dependencyMap"],[10,45,3,26],[11,2,3,26],[11,6,3,26,"_jsxFileName"],[11,18,3,26],[12,4,3,26,"_s"],[12,6,3,26],[12,9,3,26,"$RefreshSig$"],[12,21,3,26],[13,4,3,26,"_s2"],[13,7,3,26],[13,10,3,26,"$RefreshSig$"],[13,22,3,26],[13,26,5,0],[14,2,5,0],[14,11,5,0,"_interopRequireWildcard"],[14,35,5,0,"e"],[14,36,5,0],[14,38,5,0,"t"],[14,39,5,0],[14,68,5,0,"WeakMap"],[14,75,5,0],[14,81,5,0,"r"],[14,82,5,0],[14,89,5,0,"WeakMap"],[14,96,5,0],[14,100,5,0,"n"],[14,101,5,0],[14,108,5,0,"WeakMap"],[14,115,5,0],[14,127,5,0,"_interopRequireWildcard"],[14,150,5,0],[14,162,5,0,"_interopRequireWildcard"],[14,163,5,0,"e"],[14,164,5,0],[14,166,5,0,"t"],[14,167,5,0],[14,176,5,0,"t"],[14,177,5,0],[14,181,5,0,"e"],[14,182,5,0],[14,186,5,0,"e"],[14,187,5,0],[14,188,5,0,"__esModule"],[14,198,5,0],[14,207,5,0,"e"],[14,208,5,0],[14,214,5,0,"o"],[14,215,5,0],[14,217,5,0,"i"],[14,218,5,0],[14,220,5,0,"f"],[14,221,5,0],[14,226,5,0,"__proto__"],[14,235,5,0],[14,243,5,0,"default"],[14,250,5,0],[14,252,5,0,"e"],[14,253,5,0],[14,270,5,0,"e"],[14,271,5,0],[14,294,5,0,"e"],[14,295,5,0],[14,320,5,0,"e"],[14,321,5,0],[14,330,5,0,"f"],[14,331,5,0],[14,337,5,0,"o"],[14,338,5,0],[14,341,5,0,"t"],[14,342,5,0],[14,345,5,0,"n"],[14,346,5,0],[14,349,5,0,"r"],[14,350,5,0],[14,358,5,0,"o"],[14,359,5,0],[14,360,5,0,"has"],[14,363,5,0],[14,364,5,0,"e"],[14,365,5,0],[14,375,5,0,"o"],[14,376,5,0],[14,377,5,0,"get"],[14,380,5,0],[14,381,5,0,"e"],[14,382,5,0],[14,385,5,0,"o"],[14,386,5,0],[14,387,5,0,"set"],[14,390,5,0],[14,391,5,0,"e"],[14,392,5,0],[14,394,5,0,"f"],[14,395,5,0],[14,411,5,0,"t"],[14,412,5,0],[14,416,5,0,"e"],[14,417,5,0],[14,433,5,0,"t"],[14,434,5,0],[14,441,5,0,"hasOwnProperty"],[14,455,5,0],[14,456,5,0,"call"],[14,460,5,0],[14,461,5,0,"e"],[14,462,5,0],[14,464,5,0,"t"],[14,465,5,0],[14,472,5,0,"i"],[14,473,5,0],[14,477,5,0,"o"],[14,478,5,0],[14,481,5,0,"Object"],[14,487,5,0],[14,488,5,0,"defineProperty"],[14,502,5,0],[14,507,5,0,"Object"],[14,513,5,0],[14,514,5,0,"getOwnPropertyDescriptor"],[14,538,5,0],[14,539,5,0,"e"],[14,540,5,0],[14,542,5,0,"t"],[14,543,5,0],[14,550,5,0,"i"],[14,551,5,0],[14,552,5,0,"get"],[14,555,5,0],[14,559,5,0,"i"],[14,560,5,0],[14,561,5,0,"set"],[14,564,5,0],[14,568,5,0,"o"],[14,569,5,0],[14,570,5,0,"f"],[14,571,5,0],[14,573,5,0,"t"],[14,574,5,0],[14,576,5,0,"i"],[14,577,5,0],[14,581,5,0,"f"],[14,582,5,0],[14,583,5,0,"t"],[14,584,5,0],[14,588,5,0,"e"],[14,589,5,0],[14,590,5,0,"t"],[14,591,5,0],[14,602,5,0,"f"],[14,603,5,0],[14,608,5,0,"e"],[14,609,5,0],[14,611,5,0,"t"],[14,612,5,0],[15,2,6,0],[15,8,6,6,"BACKEND_URL"],[15,19,6,17],[15,22,6,20,"process"],[15,29,6,27],[15,30,6,28,"env"],[15,33,6,31],[15,34,6,32,"EXPO_PUBLIC_BACKEND_URL"],[15,57,6,55],[15,61,6,59],[15,112,6,110],[16,2,25,0],[16,8,25,6,"AuthContext"],[16,19,25,17],[16,35,25,20],[16,39,25,20,"createContext"],[16,59,25,33],[16,61,25,63,"undefined"],[16,70,25,72],[16,71,25,73],[17,2,27,7],[17,8,27,13,"AuthProvider"],[17,20,27,66],[17,23,27,69,"_ref"],[17,27,27,69],[17,31,27,87],[18,4,27,87,"_s"],[18,6,27,87],[19,4,27,87],[19,8,27,70],[20,6,27,72,"children"],[21,4,27,81],[21,5,27,82],[21,8,27,82,"_ref"],[21,12,27,82],[22,4,28,2],[22,10,28,8],[22,11,28,9,"user"],[22,15,28,13],[22,17,28,15,"setUser"],[22,24,28,22],[22,25,28,23],[22,28,28,26],[22,32,28,26,"useState"],[22,47,28,34],[22,49,28,48],[22,53,28,52],[22,54,28,53],[23,4,29,2],[23,10,29,8],[23,11,29,9,"token"],[23,16,29,14],[23,18,29,16,"setToken"],[23,26,29,24],[23,27,29,25],[23,30,29,28],[23,34,29,28,"useState"],[23,49,29,36],[23,51,29,52],[23,55,29,56],[23,56,29,57],[24,4,30,2],[24,10,30,8],[24,11,30,9,"isLoading"],[24,20,30,18],[24,22,30,20,"setIsLoading"],[24,34,30,32],[24,35,30,33],[24,38,30,36],[24,42,30,36,"useState"],[24,57,30,44],[24,59,30,45],[24,63,30,49],[24,64,30,50],[25,4,32,2],[25,8,32,2,"useEffect"],[25,24,32,11],[25,26,32,12],[25,32,32,18],[26,6,33,4,"loadStoredAuth"],[26,20,33,18],[26,21,33,19],[26,22,33,20],[27,4,34,2],[27,5,34,3],[27,7,34,5],[27,9,34,7],[27,10,34,8],[28,4,36,2],[28,10,36,8,"loadStoredAuth"],[28,24,36,22],[28,27,36,25],[28,33,36,25,"loadStoredAuth"],[28,34,36,25],[28,39,36,37],[29,6,37,4],[29,10,37,8],[30,8,38,6],[30,14,38,12,"storedToken"],[30,25,38,23],[30,28,38,26],[30,34,38,32,"AsyncStorage"],[30,55,38,44],[30,56,38,45,"getItem"],[30,63,38,52],[30,64,38,53],[30,71,38,60],[30,72,38,61],[31,8,39,6],[31,14,39,12,"storedUser"],[31,24,39,22],[31,27,39,25],[31,33,39,31,"AsyncStorage"],[31,54,39,43],[31,55,39,44,"getItem"],[31,62,39,51],[31,63,39,52],[31,69,39,58],[31,70,39,59],[32,8,41,6],[32,12,41,10,"storedToken"],[32,23,41,21],[32,27,41,25,"storedUser"],[32,37,41,35],[32,39,41,37],[33,10,42,8,"setToken"],[33,18,42,16],[33,19,42,17,"storedToken"],[33,30,42,28],[33,31,42,29],[34,10,43,8,"setUser"],[34,17,43,15],[34,18,43,16,"JSON"],[34,22,43,20],[34,23,43,21,"parse"],[34,28,43,26],[34,29,43,27,"storedUser"],[34,39,43,37],[34,40,43,38],[34,41,43,39],[35,8,44,6],[36,6,45,4],[36,7,45,5],[36,8,45,6],[36,15,45,13,"error"],[36,20,45,18],[36,22,45,20],[37,8,46,6,"console"],[37,15,46,13],[37,16,46,14,"error"],[37,21,46,19],[37,22,46,20],[37,43,46,41],[37,45,46,43,"error"],[37,50,46,48],[37,51,46,49],[38,6,47,4],[38,7,47,5],[38,16,47,14],[39,8,48,6,"setIsLoading"],[39,20,48,18],[39,21,48,19],[39,26,48,24],[39,27,48,25],[40,6,49,4],[41,4,50,2],[41,5,50,3],[42,4,52,2],[42,10,52,8,"login"],[42,15,52,13],[42,18,52,16],[42,24,52,16,"login"],[42,25,52,23,"phone"],[42,30,52,36],[42,32,52,38,"password"],[42,40,52,54],[42,45,52,59],[43,6,53,4],[43,10,53,8],[44,8,54,6],[44,14,54,12,"response"],[44,22,54,20],[44,25,54,23],[44,31,54,29,"axios"],[44,45,54,34],[44,46,54,35,"post"],[44,50,54,39],[44,51,54,40],[44,54,54,43,"BACKEND_URL"],[44,65,54,54],[44,77,54,66],[44,79,54,68],[45,10,55,8,"phone"],[45,15,55,13],[46,10,56,8,"password"],[47,8,57,6],[47,9,57,7],[47,10,57,8],[48,8,59,6],[48,14,59,12],[49,10,59,14,"token"],[49,15,59,19],[49,17,59,21,"newToken"],[49,25,59,29],[50,10,59,31,"user"],[50,14,59,35],[50,16,59,37,"newUser"],[51,8,59,45],[51,9,59,46],[51,12,59,49,"response"],[51,20,59,57],[51,21,59,58,"data"],[51,25,59,62],[52,8,61,6],[52,14,61,12,"AsyncStorage"],[52,35,61,24],[52,36,61,25,"setItem"],[52,43,61,32],[52,44,61,33],[52,51,61,40],[52,53,61,42,"newToken"],[52,61,61,50],[52,62,61,51],[53,8,62,6],[53,14,62,12,"AsyncStorage"],[53,35,62,24],[53,36,62,25,"setItem"],[53,43,62,32],[53,44,62,33],[53,50,62,39],[53,52,62,41,"JSON"],[53,56,62,45],[53,57,62,46,"stringify"],[53,66,62,55],[53,67,62,56,"newUser"],[53,74,62,63],[53,75,62,64],[53,76,62,65],[54,8,64,6,"setToken"],[54,16,64,14],[54,17,64,15,"newToken"],[54,25,64,23],[54,26,64,24],[55,8,65,6,"setUser"],[55,15,65,13],[55,16,65,14,"newUser"],[55,23,65,21],[55,24,65,22],[56,6,66,4],[56,7,66,5],[56,8,66,6],[56,15,66,13,"error"],[56,20,66,23],[56,22,66,25],[57,8,67,6],[57,14,67,12],[57,18,67,16,"Error"],[57,23,67,21],[57,24,67,22,"error"],[57,29,67,27],[57,30,67,28,"response"],[57,38,67,36],[57,40,67,38,"data"],[57,44,67,42],[57,46,67,44,"detail"],[57,52,67,50],[57,56,67,54],[57,70,67,68],[57,71,67,69],[58,6,68,4],[59,4,69,2],[59,5,69,3],[60,4,71,2],[60,10,71,8,"logout"],[60,16,71,14],[60,19,71,17],[60,25,71,17,"logout"],[60,26,71,17],[60,31,71,29],[61,6,72,4],[61,12,72,10,"AsyncStorage"],[61,33,72,22],[61,34,72,23,"removeItem"],[61,44,72,33],[61,45,72,34],[61,52,72,41],[61,53,72,42],[62,6,73,4],[62,12,73,10,"AsyncStorage"],[62,33,73,22],[62,34,73,23,"removeItem"],[62,44,73,33],[62,45,73,34],[62,51,73,40],[62,52,73,41],[63,6,74,4,"setToken"],[63,14,74,12],[63,15,74,13],[63,19,74,17],[63,20,74,18],[64,6,75,4,"setUser"],[64,13,75,11],[64,14,75,12],[64,18,75,16],[64,19,75,17],[65,4,76,2],[65,5,76,3],[66,4,78,2],[66,24,79,4],[66,28,79,4,"_jsxDevRuntime"],[66,42,79,4],[66,43,79,4,"jsxDEV"],[66,49,79,4],[66,51,79,5,"AuthContext"],[66,62,79,16],[66,63,79,17,"Provider"],[66,71,79,25],[67,6,79,26,"value"],[67,11,79,31],[67,13,79,33],[68,8,79,35,"user"],[68,12,79,39],[69,8,79,41,"token"],[69,13,79,46],[70,8,79,48,"login"],[70,13,79,53],[71,8,79,55,"logout"],[71,14,79,61],[72,8,79,63,"isLoading"],[73,6,79,73],[73,7,79,75],[74,6,79,75,"children"],[74,14,79,75],[74,16,80,7,"children"],[75,4,80,15],[76,6,80,15,"fileName"],[76,14,80,15],[76,16,80,15,"_jsxFileName"],[76,28,80,15],[77,6,80,15,"lineNumber"],[77,16,80,15],[78,6,80,15,"columnNumber"],[78,18,80,15],[79,4,80,15],[79,11,81,26],[79,12,81,27],[80,2,83,0],[80,3,83,1],[81,2,83,2,"exports"],[81,9,83,2],[81,10,83,2,"AuthProvider"],[81,22,83,2],[81,25,83,2,"AuthProvider"],[81,37,83,2],[82,2,83,2,"_s"],[82,4,83,2],[82,5,27,13,"AuthProvider"],[82,17,27,66],[83,2,27,66,"_c"],[83,4,27,66],[83,7,27,13,"AuthProvider"],[83,19,27,66],[84,2,85,7],[84,8,85,13,"useAuth"],[84,15,85,20],[84,18,85,23,"useAuth"],[84,19,85,23],[84,24,85,29],[85,4,85,29,"_s2"],[85,7,85,29],[86,4,86,2],[86,10,86,8,"context"],[86,17,86,15],[86,20,86,18],[86,24,86,18,"useContext"],[86,41,86,28],[86,43,86,29,"AuthContext"],[86,54,86,40],[86,55,86,41],[87,4,87,2],[87,8,87,6],[87,9,87,7,"context"],[87,16,87,14],[87,18,87,16],[88,6,88,4],[88,12,88,10],[88,16,88,14,"Error"],[88,21,88,19],[88,22,88,20],[88,64,88,62],[88,65,88,63],[89,4,89,2],[90,4,90,2],[90,11,90,9,"context"],[90,18,90,16],[91,2,91,0],[91,3,91,1],[92,2,91,2,"exports"],[92,9,91,2],[92,10,91,2,"useAuth"],[92,17,91,2],[92,20,91,2,"useAuth"],[92,27,91,2],[93,2,91,2,"_s2"],[93,5,91,2],[93,6,85,13,"useAuth"],[93,13,85,20],[94,2,85,20],[94,6,85,20,"_c"],[94,8,85,20],[95,2,85,20,"$RefreshReg$"],[95,14,85,20],[95,15,85,20,"_c"],[95,17,85,20],[96,0,85,20]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qEC0B;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"}},"type":"js/module"}]}