{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return c}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),u=r(d[3]);const s=(0,t.createContext)(void 0),l=({children:e})=>{const[l,c]=(0,t.useState)(null),[f,h]=(0,t.useState)(null),[w,p]=(0,t.useState)(!0);(0,t.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await n.default.getItem('token'),t=await n.default.getItem('user');e&&t&&(h(e),c(JSON.parse(t)))}catch(e){console.error('Error loading auth:',e)}finally{p(!1)}};return(0,u.jsx)(s.Provider,{value:{user:l,token:f,login:async(e,t)=>{try{const u=await o.default.post(\"https://resto-orders.preview.emergentagent.com/api/login\",{phone:e,password:t}),{token:s,user:l}=u.data;await n.default.setItem('token',s),await n.default.setItem('user',JSON.stringify(l)),h(s),c(l)}catch(e){throw new Error(e.response?.data?.detail||'Login failed')}},logout:async()=>{await n.default.removeItem('token'),await n.default.removeItem('user'),h(null),c(null)},isLoading:w},children:e})},c=()=>{const e=(0,t.useContext)(s);if(!e)throw new Error('useAuth must be used within AuthProvider');return e}});","lineCount":1,"map":[[1,143,27,0,"Object"],[1,150,27,0,"defineProperty"],[1,165,27,0,"_e"],[1,168,27,0],[1,184,27,0,"enumerable"],[1,196,27,0],[1,198,27,0,"get"],[1,202,27,0],[1,220,27,0,"AuthProvider"],[1,221,27,0],[1,225,85,0,"Object"],[1,232,85,0,"defineProperty"],[1,247,85,0,"_e"],[1,250,85,0],[1,261,85,0,"enumerable"],[1,273,85,0],[1,275,85,0,"get"],[1,279,85,0],[1,297,85,0,"useAuth"],[1,298,85,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,26,"_reactJsxRuntime"],[1,344,3,26,"r"],[1,346,3,26,"d"],[1,348,3,26],[1,352,6,0],[1,358,25,6,"AuthContext"],[1,361,25,20],[1,363,25,20,"createContext"],[1,365,25,33,"createContext"],[1,385,25,63,"undefined"],[1,388,27,13,"AuthProvider"],[1,390,27,69,"AuthProvider"],[1,392,27,72,"children"],[1,407,28,2],[1,413,28,9,"user"],[1,415,28,15,"setUser"],[1,419,28,26],[1,421,28,26,"useState"],[1,423,28,34,"useState"],[1,433,28,48],[1,440,29,9,"token"],[1,442,29,16,"setToken"],[1,446,29,28],[1,448,29,28,"useState"],[1,450,29,36,"useState"],[1,460,29,52],[1,467,30,9,"isLoading"],[1,469,30,20,"setIsLoading"],[1,473,30,36],[1,475,30,36,"useState"],[1,477,30,44,"useState"],[1,488,30,45],[1,492,32,2],[1,494,32,2,"useEffect"],[1,496,32,11,"useEffect"],[1,507,32,12],[1,512,33,4,"loadStoredAuth"],[1,517,34,5],[1,521,36,2],[1,527,36,8,"loadStoredAuth"],[1,529,36,25,"async"],[1,539,37,4],[1,543,38,6],[1,549,38,12,"storedToken"],[1,557,38,32,"AsyncStorage"],[1,559,38,44,"default"],[1,567,38,45,"getItem"],[1,575,38,53],[1,584,39,12,"storedUser"],[1,592,39,31,"AsyncStorage"],[1,594,39,43,"default"],[1,602,39,44,"getItem"],[1,610,39,52],[1,618,41,10,"storedToken"],[1,621,41,25,"storedUser"],[1,625,42,8,"setToken"],[1,627,42,17,"storedToken"],[1,630,43,8,"setUser"],[1,632,43,16,"JSON"],[1,637,43,21,"parse"],[1,643,43,27,"storedUser"],[1,647,45,4],[1,648,45,6],[1,654,45,13,"error"],[1,657,46,6,"console"],[1,665,46,14,"error"],[1,671,46,20],[1,693,46,43,"error"],[1,695,47,4],[1,696,47,5],[1,704,48,6,"setIsLoading"],[1,707,48,19],[1,709,49,4],[1,712,78,2],[1,719,79,4],[1,721,79,4,"_reactJsxRuntime"],[1,723,79,4,"jsx"],[1,728,79,5,"AuthContext"],[1,730,79,17,"Provider"],[1,739,79,25],[1,740,79,26,"value"],[1,746,79,33],[1,747,79,35,"user"],[1,754,79,41,"token"],[1,762,79,48,"login"],[1,768,52,16,"async"],[1,774,52,23,"phone"],[1,776,52,38,"password"],[1,781,53,4],[1,785,54,6],[1,791,54,12,"response"],[1,799,54,29,"axios"],[1,801,54,34,"default"],[1,809,54,35,"post"],[1,814,54,40],[1,873,54,68],[1,874,55,8,"phone"],[1,882,56,8,"password"],[1,896,59,14,"token"],[1,902,59,21,"newToken"],[1,904,59,31,"user"],[1,909,59,37,"newUser"],[1,912,59,49,"response"],[1,914,59,58,"data"],[1,925,61,12,"AsyncStorage"],[1,927,61,24,"default"],[1,935,61,25,"setItem"],[1,943,61,33],[1,951,61,42,"newToken"],[1,960,62,12,"AsyncStorage"],[1,962,62,24,"default"],[1,970,62,25,"setItem"],[1,978,62,33],[1,985,62,41,"JSON"],[1,990,62,46,"stringify"],[1,1000,62,56,"newUser"],[1,1004,64,6,"setToken"],[1,1006,64,15,"newToken"],[1,1009,65,6,"setUser"],[1,1011,65,14,"newUser"],[1,1013,66,4],[1,1014,66,6],[1,1020,66,13,"error"],[1,1023,67,6],[1,1029,67,12],[1,1033,67,16,"Error"],[1,1039,67,22,"error"],[1,1041,67,28,"response"],[1,1051,67,38,"data"],[1,1057,67,44,"detail"],[1,1065,67,54],[1,1080,68,4],[1,1083,79,55,"logout"],[1,1090,71,17,"async"],[1,1106,72,10,"AsyncStorage"],[1,1108,72,22,"default"],[1,1116,72,23,"removeItem"],[1,1127,72,34],[1,1142,73,10,"AsyncStorage"],[1,1144,73,22,"default"],[1,1152,73,23,"removeItem"],[1,1163,73,34],[1,1171,74,4,"setToken"],[1,1173,74,13],[1,1179,75,4,"setUser"],[1,1181,75,12],[1,1188,79,63,"isLoading"],[1,1201,79,75,"children"],[1,1210,80,7,"children"],[1,1215,85,13,"useAuth"],[1,1217,85,23,"useAuth"],[1,1222,86,2],[1,1228,86,8,"context"],[1,1231,86,18],[1,1233,86,18,"useContext"],[1,1235,86,28,"useContext"],[1,1247,86,29,"AuthContext"],[1,1250,87,2],[1,1254,87,7,"context"],[1,1256,88,4],[1,1262,88,10],[1,1266,88,14,"Error"],[1,1272,88,20],[1,1316,90,2],[1,1323,90,9,"context"],[1,1325,91,2],[1,1328]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qEC0B;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}