{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return c}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),u=r(d[3]);const s=(0,t.createContext)(void 0),l=({children:e})=>{const[l,c]=(0,t.useState)(null),[f,h]=(0,t.useState)(null),[w,p]=(0,t.useState)(!0);(0,t.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await n.default.getItem('token'),t=await n.default.getItem('user');e&&t&&(h(e),c(JSON.parse(t)))}catch(e){console.error('Error loading auth:',e)}finally{p(!1)}};return(0,u.jsx)(s.Provider,{value:{user:l,token:f,login:async(e,t)=>{try{const u=await o.default.post(\"https://resto-pos-hub-2.preview.emergentagent.com/api/login\",{phone:e,password:t}),{token:s,user:l}=u.data;await n.default.setItem('token',s),await n.default.setItem('user',JSON.stringify(l)),h(s),c(l)}catch(e){throw new Error(e.response?.data?.detail||'Login failed')}},logout:async()=>{await n.default.removeItem('token'),await n.default.removeItem('user'),h(null),c(null)},isLoading:w},children:e})},c=()=>{const e=(0,t.useContext)(s);if(!e)throw new Error('useAuth must be used within AuthProvider');return e}});","lineCount":1,"map":[[1,143,26,0,"Object"],[1,150,26,0,"defineProperty"],[1,165,26,0,"_e"],[1,168,26,0],[1,184,26,0,"enumerable"],[1,196,26,0],[1,198,26,0,"get"],[1,202,26,0],[1,220,26,0,"AuthProvider"],[1,221,26,0],[1,225,84,0,"Object"],[1,232,84,0,"defineProperty"],[1,247,84,0,"_e"],[1,250,84,0],[1,261,84,0,"enumerable"],[1,273,84,0],[1,275,84,0,"get"],[1,279,84,0],[1,297,84,0,"useAuth"],[1,298,84,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,26,"_reactJsxRuntime"],[1,344,3,26,"r"],[1,346,3,26,"d"],[1,348,3,26],[1,352,5,0],[1,358,24,6,"AuthContext"],[1,361,24,20],[1,363,24,20,"createContext"],[1,365,24,33,"createContext"],[1,385,24,63,"undefined"],[1,388,26,13,"AuthProvider"],[1,390,26,69,"AuthProvider"],[1,392,26,72,"children"],[1,407,27,2],[1,413,27,9,"user"],[1,415,27,15,"setUser"],[1,419,27,26],[1,421,27,26,"useState"],[1,423,27,34,"useState"],[1,433,27,48],[1,440,28,9,"token"],[1,442,28,16,"setToken"],[1,446,28,28],[1,448,28,28,"useState"],[1,450,28,36,"useState"],[1,460,28,52],[1,467,29,9,"isLoading"],[1,469,29,20,"setIsLoading"],[1,473,29,36],[1,475,29,36,"useState"],[1,477,29,44,"useState"],[1,488,29,45],[1,492,31,2],[1,494,31,2,"useEffect"],[1,496,31,11,"useEffect"],[1,507,31,12],[1,512,32,4,"loadStoredAuth"],[1,517,33,5],[1,521,35,2],[1,527,35,8,"loadStoredAuth"],[1,529,35,25,"async"],[1,539,36,4],[1,543,37,6],[1,549,37,12,"storedToken"],[1,557,37,32,"AsyncStorage"],[1,559,37,44,"default"],[1,567,37,45,"getItem"],[1,575,37,53],[1,584,38,12,"storedUser"],[1,592,38,31,"AsyncStorage"],[1,594,38,43,"default"],[1,602,38,44,"getItem"],[1,610,38,52],[1,618,40,10,"storedToken"],[1,621,40,25,"storedUser"],[1,625,41,8,"setToken"],[1,627,41,17,"storedToken"],[1,630,42,8,"setUser"],[1,632,42,16,"JSON"],[1,637,42,21,"parse"],[1,643,42,27,"storedUser"],[1,647,44,4],[1,648,44,6],[1,654,44,13,"error"],[1,657,45,6,"console"],[1,665,45,14,"error"],[1,671,45,20],[1,693,45,43,"error"],[1,695,46,4],[1,696,46,5],[1,704,47,6,"setIsLoading"],[1,707,47,19],[1,709,48,4],[1,712,77,2],[1,719,78,4],[1,721,78,4,"_reactJsxRuntime"],[1,723,78,4,"jsx"],[1,728,78,5,"AuthContext"],[1,730,78,17,"Provider"],[1,739,78,25],[1,740,78,26,"value"],[1,746,78,33],[1,747,78,35,"user"],[1,754,78,41,"token"],[1,762,78,48,"login"],[1,768,51,16,"async"],[1,774,51,23,"phone"],[1,776,51,38,"password"],[1,781,52,4],[1,785,53,6],[1,791,53,12,"response"],[1,799,53,29,"axios"],[1,801,53,34,"default"],[1,809,53,35,"post"],[1,814,53,40],[1,876,53,68],[1,877,54,8,"phone"],[1,885,55,8,"password"],[1,899,58,14,"token"],[1,905,58,21,"newToken"],[1,907,58,31,"user"],[1,912,58,37,"newUser"],[1,915,58,49,"response"],[1,917,58,58,"data"],[1,928,60,12,"AsyncStorage"],[1,930,60,24,"default"],[1,938,60,25,"setItem"],[1,946,60,33],[1,954,60,42,"newToken"],[1,963,61,12,"AsyncStorage"],[1,965,61,24,"default"],[1,973,61,25,"setItem"],[1,981,61,33],[1,988,61,41,"JSON"],[1,993,61,46,"stringify"],[1,1003,61,56,"newUser"],[1,1007,63,6,"setToken"],[1,1009,63,15,"newToken"],[1,1012,64,6,"setUser"],[1,1014,64,14,"newUser"],[1,1016,65,4],[1,1017,65,6],[1,1023,65,13,"error"],[1,1026,66,6],[1,1032,66,12],[1,1036,66,16,"Error"],[1,1042,66,22,"error"],[1,1044,66,28,"response"],[1,1054,66,38,"data"],[1,1060,66,44,"detail"],[1,1068,66,54],[1,1083,67,4],[1,1086,78,55,"logout"],[1,1093,70,17,"async"],[1,1109,71,10,"AsyncStorage"],[1,1111,71,22,"default"],[1,1119,71,23,"removeItem"],[1,1130,71,34],[1,1145,72,10,"AsyncStorage"],[1,1147,72,22,"default"],[1,1155,72,23,"removeItem"],[1,1166,72,34],[1,1174,73,4,"setToken"],[1,1176,73,13],[1,1182,74,4,"setUser"],[1,1184,74,12],[1,1191,78,63,"isLoading"],[1,1204,78,75,"children"],[1,1213,79,7,"children"],[1,1218,84,13,"useAuth"],[1,1220,84,23,"useAuth"],[1,1225,85,2],[1,1231,85,8,"context"],[1,1234,85,18],[1,1236,85,18,"useContext"],[1,1238,85,28,"useContext"],[1,1250,85,29,"AuthContext"],[1,1253,86,2],[1,1257,86,7,"context"],[1,1259,87,4],[1,1265,87,10],[1,1269,87,14,"Error"],[1,1275,87,20],[1,1319,89,2],[1,1326,89,9,"context"],[1,1328,90,2],[1,1331]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}