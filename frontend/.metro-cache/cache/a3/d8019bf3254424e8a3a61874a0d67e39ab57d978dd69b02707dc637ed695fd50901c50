{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (phone, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/login`, {\n          phone,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":102,"map":[[13,2,26,0,"Object"],[13,8,26,0],[13,9,26,0,"defineProperty"],[13,23,26,0],[13,24,26,0,"exports"],[13,31,26,0],[14,4,26,0,"enumerable"],[14,14,26,0],[15,4,26,0,"get"],[15,7,26,0],[15,18,26,0,"get"],[15,19,26,0],[16,6,26,0],[16,13,26,0,"AuthProvider"],[16,25,26,0],[17,4,26,0],[18,2,26,0],[19,2,84,0,"Object"],[19,8,84,0],[19,9,84,0,"defineProperty"],[19,23,84,0],[19,24,84,0,"exports"],[19,31,84,0],[20,4,84,0,"enumerable"],[20,14,84,0],[21,4,84,0,"get"],[21,7,84,0],[21,18,84,0,"get"],[21,19,84,0],[22,6,84,0],[22,13,84,0,"useAuth"],[22,20,84,0],[23,4,84,0],[24,2,84,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"BACKEND_URL"],[31,19,5,17],[31,22,5,20,"process"],[31,29,5,27],[31,30,5,28,"env"],[31,33,5,31],[31,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[31,57,5,55],[32,2,24,0],[32,8,24,6,"AuthContext"],[32,19,24,17],[32,35,24,20],[32,39,24,20,"createContext"],[32,45,24,33],[32,46,24,33,"createContext"],[32,59,24,33],[32,61,24,63,"undefined"],[32,70,24,72],[32,71,24,73],[33,2,26,7],[33,8,26,13,"AuthProvider"],[33,20,26,66],[33,23,26,69,"AuthProvider"],[33,24,26,70],[34,4,26,72,"children"],[35,2,26,81],[35,3,26,82],[35,8,26,87],[36,4,27,2],[36,10,27,8],[36,11,27,9,"user"],[36,15,27,13],[36,17,27,15,"setUser"],[36,24,27,22],[36,25,27,23],[36,28,27,26],[36,32,27,26,"useState"],[36,38,27,34],[36,39,27,34,"useState"],[36,47,27,34],[36,49,27,48],[36,53,27,52],[36,54,27,53],[37,4,28,2],[37,10,28,8],[37,11,28,9,"token"],[37,16,28,14],[37,18,28,16,"setToken"],[37,26,28,24],[37,27,28,25],[37,30,28,28],[37,34,28,28,"useState"],[37,40,28,36],[37,41,28,36,"useState"],[37,49,28,36],[37,51,28,52],[37,55,28,56],[37,56,28,57],[38,4,29,2],[38,10,29,8],[38,11,29,9,"isLoading"],[38,20,29,18],[38,22,29,20,"setIsLoading"],[38,34,29,32],[38,35,29,33],[38,38,29,36],[38,42,29,36,"useState"],[38,48,29,44],[38,49,29,44,"useState"],[38,57,29,44],[38,59,29,45],[38,63,29,49],[38,64,29,50],[39,4,31,2],[39,8,31,2,"useEffect"],[39,14,31,11],[39,15,31,11,"useEffect"],[39,24,31,11],[39,26,31,12],[39,32,31,18],[40,6,32,4,"loadStoredAuth"],[40,20,32,18],[40,21,32,19],[40,22,32,20],[41,4,33,2],[41,5,33,3],[41,7,33,5],[41,9,33,7],[41,10,33,8],[42,4,35,2],[42,10,35,8,"loadStoredAuth"],[42,24,35,22],[42,27,35,25],[42,33,35,25,"loadStoredAuth"],[42,34,35,25],[42,39,35,37],[43,6,36,4],[43,10,36,8],[44,8,37,6],[44,14,37,12,"storedToken"],[44,25,37,23],[44,28,37,26],[44,34,37,32,"AsyncStorage"],[44,46,37,44],[44,47,37,44,"default"],[44,54,37,44],[44,55,37,45,"getItem"],[44,62,37,52],[44,63,37,53],[44,70,37,60],[44,71,37,61],[45,8,38,6],[45,14,38,12,"storedUser"],[45,24,38,22],[45,27,38,25],[45,33,38,31,"AsyncStorage"],[45,45,38,43],[45,46,38,43,"default"],[45,53,38,43],[45,54,38,44,"getItem"],[45,61,38,51],[45,62,38,52],[45,68,38,58],[45,69,38,59],[46,8,40,6],[46,12,40,10,"storedToken"],[46,23,40,21],[46,27,40,25,"storedUser"],[46,37,40,35],[46,39,40,37],[47,10,41,8,"setToken"],[47,18,41,16],[47,19,41,17,"storedToken"],[47,30,41,28],[47,31,41,29],[48,10,42,8,"setUser"],[48,17,42,15],[48,18,42,16,"JSON"],[48,22,42,20],[48,23,42,21,"parse"],[48,28,42,26],[48,29,42,27,"storedUser"],[48,39,42,37],[48,40,42,38],[48,41,42,39],[49,8,43,6],[50,6,44,4],[50,7,44,5],[50,8,44,6],[50,15,44,13,"error"],[50,20,44,18],[50,22,44,20],[51,8,45,6,"console"],[51,15,45,13],[51,16,45,14,"error"],[51,21,45,19],[51,22,45,20],[51,43,45,41],[51,45,45,43,"error"],[51,50,45,48],[51,51,45,49],[52,6,46,4],[52,7,46,5],[52,16,46,14],[53,8,47,6,"setIsLoading"],[53,20,47,18],[53,21,47,19],[53,26,47,24],[53,27,47,25],[54,6,48,4],[55,4,49,2],[55,5,49,3],[56,4,51,2],[56,10,51,8,"login"],[56,15,51,13],[56,18,51,16],[56,24,51,16,"login"],[56,25,51,23,"phone"],[56,30,51,36],[56,32,51,38,"password"],[56,40,51,54],[56,45,51,59],[57,6,52,4],[57,10,52,8],[58,8,53,6],[58,14,53,12,"response"],[58,22,53,20],[58,25,53,23],[58,31,53,29,"axios"],[58,36,53,34],[58,37,53,34,"default"],[58,44,53,34],[58,45,53,35,"post"],[58,49,53,39],[58,50,53,40],[58,53,53,43,"BACKEND_URL"],[58,64,53,54],[58,76,53,66],[58,78,53,68],[59,10,54,8,"phone"],[59,15,54,13],[60,10,55,8,"password"],[61,8,56,6],[61,9,56,7],[61,10,56,8],[62,8,58,6],[62,14,58,12],[63,10,58,14,"token"],[63,15,58,19],[63,17,58,21,"newToken"],[63,25,58,29],[64,10,58,31,"user"],[64,14,58,35],[64,16,58,37,"newUser"],[65,8,58,45],[65,9,58,46],[65,12,58,49,"response"],[65,20,58,57],[65,21,58,58,"data"],[65,25,58,62],[66,8,60,6],[66,14,60,12,"AsyncStorage"],[66,26,60,24],[66,27,60,24,"default"],[66,34,60,24],[66,35,60,25,"setItem"],[66,42,60,32],[66,43,60,33],[66,50,60,40],[66,52,60,42,"newToken"],[66,60,60,50],[66,61,60,51],[67,8,61,6],[67,14,61,12,"AsyncStorage"],[67,26,61,24],[67,27,61,24,"default"],[67,34,61,24],[67,35,61,25,"setItem"],[67,42,61,32],[67,43,61,33],[67,49,61,39],[67,51,61,41,"JSON"],[67,55,61,45],[67,56,61,46,"stringify"],[67,65,61,55],[67,66,61,56,"newUser"],[67,73,61,63],[67,74,61,64],[67,75,61,65],[68,8,63,6,"setToken"],[68,16,63,14],[68,17,63,15,"newToken"],[68,25,63,23],[68,26,63,24],[69,8,64,6,"setUser"],[69,15,64,13],[69,16,64,14,"newUser"],[69,23,64,21],[69,24,64,22],[70,6,65,4],[70,7,65,5],[70,8,65,6],[70,15,65,13,"error"],[70,20,65,23],[70,22,65,25],[71,8,66,6],[71,14,66,12],[71,18,66,16,"Error"],[71,23,66,21],[71,24,66,22,"error"],[71,29,66,27],[71,30,66,28,"response"],[71,38,66,36],[71,40,66,38,"data"],[71,44,66,42],[71,46,66,44,"detail"],[71,52,66,50],[71,56,66,54],[71,70,66,68],[71,71,66,69],[72,6,67,4],[73,4,68,2],[73,5,68,3],[74,4,70,2],[74,10,70,8,"logout"],[74,16,70,14],[74,19,70,17],[74,25,70,17,"logout"],[74,26,70,17],[74,31,70,29],[75,6,71,4],[75,12,71,10,"AsyncStorage"],[75,24,71,22],[75,25,71,22,"default"],[75,32,71,22],[75,33,71,23,"removeItem"],[75,43,71,33],[75,44,71,34],[75,51,71,41],[75,52,71,42],[76,6,72,4],[76,12,72,10,"AsyncStorage"],[76,24,72,22],[76,25,72,22,"default"],[76,32,72,22],[76,33,72,23,"removeItem"],[76,43,72,33],[76,44,72,34],[76,50,72,40],[76,51,72,41],[77,6,73,4,"setToken"],[77,14,73,12],[77,15,73,13],[77,19,73,17],[77,20,73,18],[78,6,74,4,"setUser"],[78,13,74,11],[78,14,74,12],[78,18,74,16],[78,19,74,17],[79,4,75,2],[79,5,75,3],[80,4,77,2],[80,24,78,4],[80,28,78,4,"_reactJsxDevRuntime"],[80,47,78,4],[80,48,78,4,"jsxDEV"],[80,54,78,4],[80,56,78,5,"AuthContext"],[80,67,78,16],[80,68,78,17,"Provider"],[80,76,78,25],[81,6,78,26,"value"],[81,11,78,31],[81,13,78,33],[82,8,78,35,"user"],[82,12,78,39],[83,8,78,41,"token"],[83,13,78,46],[84,8,78,48,"login"],[84,13,78,53],[85,8,78,55,"logout"],[85,14,78,61],[86,8,78,63,"isLoading"],[87,6,78,73],[87,7,78,75],[88,6,78,75,"children"],[88,14,78,75],[88,16,79,7,"children"],[89,4,79,15],[90,6,79,15,"fileName"],[90,14,79,15],[90,16,79,15,"_jsxFileName"],[90,28,79,15],[91,6,79,15,"lineNumber"],[91,16,79,15],[92,6,79,15,"columnNumber"],[92,18,79,15],[93,4,79,15],[93,11,80,26],[93,12,80,27],[94,2,82,0],[94,3,82,1],[95,2,84,7],[95,8,84,13,"useAuth"],[95,15,84,20],[95,18,84,23,"useAuth"],[95,19,84,23],[95,24,84,29],[96,4,85,2],[96,10,85,8,"context"],[96,17,85,15],[96,20,85,18],[96,24,85,18,"useContext"],[96,30,85,28],[96,31,85,28,"useContext"],[96,41,85,28],[96,43,85,29,"AuthContext"],[96,54,85,40],[96,55,85,41],[97,4,86,2],[97,8,86,6],[97,9,86,7,"context"],[97,16,86,14],[97,18,86,16],[98,6,87,4],[98,12,87,10],[98,16,87,14,"Error"],[98,21,87,19],[98,22,87,20],[98,64,87,62],[98,65,87,63],[99,4,88,2],[100,4,89,2],[100,11,89,9,"context"],[100,18,89,16],[101,2,90,0],[101,3,90,1],[102,0,90,2],[102,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}