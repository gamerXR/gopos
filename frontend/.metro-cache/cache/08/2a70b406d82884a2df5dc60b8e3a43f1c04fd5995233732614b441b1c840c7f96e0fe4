{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return f}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),u=r(d[3]);const s=process.env.EXPO_PUBLIC_BACKEND_URL||'https://resto-pos-hub-2.preview.emergentagent.com',l=(0,t.createContext)(void 0),c=({children:e})=>{const[c,f]=(0,t.useState)(null),[h,w]=(0,t.useState)(null),[p,v]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=await n.default.getItem('token'),t=await n.default.getItem('user');e&&t&&(w(e),f(JSON.parse(t)))}catch(e){console.error('Error loading auth:',e)}finally{v(!1)}};return(0,u.jsx)(l.Provider,{value:{user:c,token:h,login:async(e,t)=>{try{const u=await o.default.post(`${s}/api/login`,{phone:e,password:t}),{token:l,user:c}=u.data;await n.default.setItem('token',l),await n.default.setItem('user',JSON.stringify(c)),w(l),f(c)}catch(e){throw new Error(e.response?.data?.detail||'Login failed')}},logout:async()=>{await n.default.removeItem('token'),await n.default.removeItem('user'),w(null),f(null)},isLoading:p},children:e})},f=()=>{const e=(0,t.useContext)(l);if(!e)throw new Error('useAuth must be used within AuthProvider');return e}});","lineCount":1,"map":[[1,143,27,0,"Object"],[1,150,27,0,"defineProperty"],[1,165,27,0,"_e"],[1,168,27,0],[1,184,27,0,"enumerable"],[1,196,27,0],[1,198,27,0,"get"],[1,202,27,0],[1,220,27,0,"AuthProvider"],[1,221,27,0],[1,225,85,0,"Object"],[1,232,85,0,"defineProperty"],[1,247,85,0,"_e"],[1,250,85,0],[1,261,85,0,"enumerable"],[1,273,85,0],[1,275,85,0,"get"],[1,279,85,0],[1,297,85,0,"useAuth"],[1,298,85,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,26,"_reactJsxRuntime"],[1,344,3,26,"r"],[1,346,3,26,"d"],[1,348,3,26],[1,352,6,0],[1,358,6,6,"BACKEND_URL"],[1,360,6,20,"process"],[1,368,6,28,"env"],[1,372,6,32,"EXPO_PUBLIC_BACKEND_URL"],[1,397,6,59],[1,449,25,6,"AuthContext"],[1,452,25,20],[1,454,25,20,"createContext"],[1,456,25,33,"createContext"],[1,476,25,63,"undefined"],[1,479,27,13,"AuthProvider"],[1,481,27,69,"AuthProvider"],[1,483,27,72,"children"],[1,498,28,2],[1,504,28,9,"user"],[1,506,28,15,"setUser"],[1,510,28,26],[1,512,28,26,"useState"],[1,514,28,34,"useState"],[1,524,28,48],[1,531,29,9,"token"],[1,533,29,16,"setToken"],[1,537,29,28],[1,539,29,28,"useState"],[1,541,29,36,"useState"],[1,551,29,52],[1,558,30,9,"isLoading"],[1,560,30,20,"setIsLoading"],[1,564,30,36],[1,566,30,36,"useState"],[1,568,30,44,"useState"],[1,579,30,45],[1,583,32,2],[1,585,32,2,"useEffect"],[1,587,32,11,"useEffect"],[1,598,32,12],[1,603,33,4,"loadStoredAuth"],[1,608,34,5],[1,612,36,2],[1,618,36,8,"loadStoredAuth"],[1,620,36,25,"async"],[1,630,37,4],[1,634,38,6],[1,640,38,12,"storedToken"],[1,648,38,32,"AsyncStorage"],[1,650,38,44,"default"],[1,658,38,45,"getItem"],[1,666,38,53],[1,675,39,12,"storedUser"],[1,683,39,31,"AsyncStorage"],[1,685,39,43,"default"],[1,693,39,44,"getItem"],[1,701,39,52],[1,709,41,10,"storedToken"],[1,712,41,25,"storedUser"],[1,716,42,8,"setToken"],[1,718,42,17,"storedToken"],[1,721,43,8,"setUser"],[1,723,43,16,"JSON"],[1,728,43,21,"parse"],[1,734,43,27,"storedUser"],[1,738,45,4],[1,739,45,6],[1,745,45,13,"error"],[1,748,46,6,"console"],[1,756,46,14,"error"],[1,762,46,20],[1,784,46,43,"error"],[1,786,47,4],[1,787,47,5],[1,795,48,6,"setIsLoading"],[1,798,48,19],[1,800,49,4],[1,803,78,2],[1,810,79,4],[1,812,79,4,"_reactJsxRuntime"],[1,814,79,4,"jsx"],[1,819,79,5,"AuthContext"],[1,821,79,17,"Provider"],[1,830,79,25],[1,831,79,26,"value"],[1,837,79,33],[1,838,79,35,"user"],[1,845,79,41,"token"],[1,853,79,48,"login"],[1,859,52,16,"async"],[1,865,52,23,"phone"],[1,867,52,38,"password"],[1,872,53,4],[1,876,54,6],[1,882,54,12,"response"],[1,890,54,29,"axios"],[1,892,54,34,"default"],[1,900,54,35,"post"],[1,905,54,40],[1,908,54,43,"BACKEND_URL"],[1,922,54,68],[1,923,55,8,"phone"],[1,931,56,8,"password"],[1,945,59,14,"token"],[1,951,59,21,"newToken"],[1,953,59,31,"user"],[1,958,59,37,"newUser"],[1,961,59,49,"response"],[1,963,59,58,"data"],[1,974,61,12,"AsyncStorage"],[1,976,61,24,"default"],[1,984,61,25,"setItem"],[1,992,61,33],[1,1000,61,42,"newToken"],[1,1009,62,12,"AsyncStorage"],[1,1011,62,24,"default"],[1,1019,62,25,"setItem"],[1,1027,62,33],[1,1034,62,41,"JSON"],[1,1039,62,46,"stringify"],[1,1049,62,56,"newUser"],[1,1053,64,6,"setToken"],[1,1055,64,15,"newToken"],[1,1058,65,6,"setUser"],[1,1060,65,14,"newUser"],[1,1062,66,4],[1,1063,66,6],[1,1069,66,13,"error"],[1,1072,67,6],[1,1078,67,12],[1,1082,67,16,"Error"],[1,1088,67,22,"error"],[1,1090,67,28,"response"],[1,1100,67,38,"data"],[1,1106,67,44,"detail"],[1,1114,67,54],[1,1129,68,4],[1,1132,79,55,"logout"],[1,1139,71,17,"async"],[1,1155,72,10,"AsyncStorage"],[1,1157,72,22,"default"],[1,1165,72,23,"removeItem"],[1,1176,72,34],[1,1191,73,10,"AsyncStorage"],[1,1193,73,22,"default"],[1,1201,73,23,"removeItem"],[1,1212,73,34],[1,1220,74,4,"setToken"],[1,1222,74,13],[1,1228,75,4,"setUser"],[1,1230,75,12],[1,1237,79,63,"isLoading"],[1,1250,79,75,"children"],[1,1259,80,7,"children"],[1,1264,85,13,"useAuth"],[1,1266,85,23,"useAuth"],[1,1271,86,2],[1,1277,86,8,"context"],[1,1280,86,18],[1,1282,86,18,"useContext"],[1,1284,86,28,"useContext"],[1,1296,86,29,"AuthContext"],[1,1299,87,2],[1,1303,87,7,"context"],[1,1305,88,4],[1,1311,88,10],[1,1315,88,14,"Error"],[1,1321,88,20],[1,1365,90,2],[1,1372,90,9,"context"],[1,1374,91,2],[1,1377]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qEC0B;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}