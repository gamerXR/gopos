{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return f}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),u=r(d[3]);const s=process.env.EXPO_PUBLIC_BACKEND_URL,l=(0,t.createContext)(void 0),c=({children:e})=>{const[c,f]=(0,t.useState)(null),[h,w]=(0,t.useState)(null),[p,v]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=await n.default.getItem('token'),t=await n.default.getItem('user');e&&t&&(w(e),f(JSON.parse(t)))}catch(e){console.error('Error loading auth:',e)}finally{v(!1)}};return(0,u.jsx)(l.Provider,{value:{user:c,token:h,login:async(e,t)=>{try{const u=await o.default.post(`${s}/api/login`,{phone:e,password:t}),{token:l,user:c}=u.data;await n.default.setItem('token',l),await n.default.setItem('user',JSON.stringify(c)),w(l),f(c)}catch(e){throw new Error(e.response?.data?.detail||'Login failed')}},logout:async()=>{await n.default.removeItem('token'),await n.default.removeItem('user'),w(null),f(null)},isLoading:p},children:e})},f=()=>{const e=(0,t.useContext)(l);if(!e)throw new Error('useAuth must be used within AuthProvider');return e}});","lineCount":1,"map":[[1,143,26,0,"Object"],[1,150,26,0,"defineProperty"],[1,165,26,0,"_e"],[1,168,26,0],[1,184,26,0,"enumerable"],[1,196,26,0],[1,198,26,0,"get"],[1,202,26,0],[1,220,26,0,"AuthProvider"],[1,221,26,0],[1,225,84,0,"Object"],[1,232,84,0,"defineProperty"],[1,247,84,0,"_e"],[1,250,84,0],[1,261,84,0,"enumerable"],[1,273,84,0],[1,275,84,0,"get"],[1,279,84,0],[1,297,84,0,"useAuth"],[1,298,84,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,26,"_reactJsxRuntime"],[1,344,3,26,"r"],[1,346,3,26,"d"],[1,348,3,26],[1,352,5,0],[1,358,5,6,"BACKEND_URL"],[1,360,5,20,"process"],[1,368,5,28,"env"],[1,372,5,32,"EXPO_PUBLIC_BACKEND_URL"],[1,396,24,6,"AuthContext"],[1,399,24,20],[1,401,24,20,"createContext"],[1,403,24,33,"createContext"],[1,423,24,63,"undefined"],[1,426,26,13,"AuthProvider"],[1,428,26,69,"AuthProvider"],[1,430,26,72,"children"],[1,445,27,2],[1,451,27,9,"user"],[1,453,27,15,"setUser"],[1,457,27,26],[1,459,27,26,"useState"],[1,461,27,34,"useState"],[1,471,27,48],[1,478,28,9,"token"],[1,480,28,16,"setToken"],[1,484,28,28],[1,486,28,28,"useState"],[1,488,28,36,"useState"],[1,498,28,52],[1,505,29,9,"isLoading"],[1,507,29,20,"setIsLoading"],[1,511,29,36],[1,513,29,36,"useState"],[1,515,29,44,"useState"],[1,526,29,45],[1,530,31,2],[1,532,31,2,"useEffect"],[1,534,31,11,"useEffect"],[1,545,31,12],[1,550,32,4,"loadStoredAuth"],[1,555,33,5],[1,559,35,2],[1,565,35,8,"loadStoredAuth"],[1,567,35,25,"async"],[1,577,36,4],[1,581,37,6],[1,587,37,12,"storedToken"],[1,595,37,32,"AsyncStorage"],[1,597,37,44,"default"],[1,605,37,45,"getItem"],[1,613,37,53],[1,622,38,12,"storedUser"],[1,630,38,31,"AsyncStorage"],[1,632,38,43,"default"],[1,640,38,44,"getItem"],[1,648,38,52],[1,656,40,10,"storedToken"],[1,659,40,25,"storedUser"],[1,663,41,8,"setToken"],[1,665,41,17,"storedToken"],[1,668,42,8,"setUser"],[1,670,42,16,"JSON"],[1,675,42,21,"parse"],[1,681,42,27,"storedUser"],[1,685,44,4],[1,686,44,6],[1,692,44,13,"error"],[1,695,45,6,"console"],[1,703,45,14,"error"],[1,709,45,20],[1,731,45,43,"error"],[1,733,46,4],[1,734,46,5],[1,742,47,6,"setIsLoading"],[1,745,47,19],[1,747,48,4],[1,750,77,2],[1,757,78,4],[1,759,78,4,"_reactJsxRuntime"],[1,761,78,4,"jsx"],[1,766,78,5,"AuthContext"],[1,768,78,17,"Provider"],[1,777,78,25],[1,778,78,26,"value"],[1,784,78,33],[1,785,78,35,"user"],[1,792,78,41,"token"],[1,800,78,48,"login"],[1,806,51,16,"async"],[1,812,51,23,"phone"],[1,814,51,38,"password"],[1,819,52,4],[1,823,53,6],[1,829,53,12,"response"],[1,837,53,29,"axios"],[1,839,53,34,"default"],[1,847,53,35,"post"],[1,852,53,40],[1,855,53,43,"BACKEND_URL"],[1,869,53,68],[1,870,54,8,"phone"],[1,878,55,8,"password"],[1,892,58,14,"token"],[1,898,58,21,"newToken"],[1,900,58,31,"user"],[1,905,58,37,"newUser"],[1,908,58,49,"response"],[1,910,58,58,"data"],[1,921,60,12,"AsyncStorage"],[1,923,60,24,"default"],[1,931,60,25,"setItem"],[1,939,60,33],[1,947,60,42,"newToken"],[1,956,61,12,"AsyncStorage"],[1,958,61,24,"default"],[1,966,61,25,"setItem"],[1,974,61,33],[1,981,61,41,"JSON"],[1,986,61,46,"stringify"],[1,996,61,56,"newUser"],[1,1000,63,6,"setToken"],[1,1002,63,15,"newToken"],[1,1005,64,6,"setUser"],[1,1007,64,14,"newUser"],[1,1009,65,4],[1,1010,65,6],[1,1016,65,13,"error"],[1,1019,66,6],[1,1025,66,12],[1,1029,66,16,"Error"],[1,1035,66,22,"error"],[1,1037,66,28,"response"],[1,1047,66,38,"data"],[1,1053,66,44,"detail"],[1,1061,66,54],[1,1076,67,4],[1,1079,78,55,"logout"],[1,1086,70,17,"async"],[1,1102,71,10,"AsyncStorage"],[1,1104,71,22,"default"],[1,1112,71,23,"removeItem"],[1,1123,71,34],[1,1138,72,10,"AsyncStorage"],[1,1140,72,22,"default"],[1,1148,72,23,"removeItem"],[1,1159,72,34],[1,1167,73,4,"setToken"],[1,1169,73,13],[1,1175,74,4,"setUser"],[1,1177,74,12],[1,1184,78,63,"isLoading"],[1,1197,78,75,"children"],[1,1206,79,7,"children"],[1,1211,84,13,"useAuth"],[1,1213,84,23,"useAuth"],[1,1218,85,2],[1,1224,85,8,"context"],[1,1227,85,18],[1,1229,85,18,"useContext"],[1,1231,85,28,"useContext"],[1,1243,85,29,"AuthContext"],[1,1246,86,2],[1,1250,86,7,"context"],[1,1252,87,4],[1,1258,87,10],[1,1262,87,14,"Error"],[1,1268,87,20],[1,1312,89,2],[1,1319,89,9,"context"],[1,1321,90,2],[1,1324]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}