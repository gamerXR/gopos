{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.resolveHref = void 0;\n  exports.resolveHrefStringWithSegments = resolveHrefStringWithSegments;\n  /** Resolve an href object into a fully qualified, relative href. */\n  const resolveHref = href => {\n    if (typeof href === 'string') {\n      return (0, exports.resolveHref)({\n        pathname: href\n      });\n    }\n    const path = href.pathname ?? '';\n    if (!href?.params) {\n      return path;\n    }\n    const {\n      pathname,\n      params\n    } = createQualifiedPathname(path, {\n      ...href.params\n    });\n    const paramsString = createQueryParams(params);\n    return pathname + (paramsString ? `?${paramsString}` : '');\n  };\n  exports.resolveHref = resolveHref;\n  function resolveHrefStringWithSegments(href) {\n    let {\n      segments = [],\n      params = {}\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let {\n      relativeToDirectory\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (href.startsWith('.')) {\n      // Resolve base path by merging the current segments with the params\n      let base = segments?.map(segment => {\n        if (!segment.startsWith('[')) return segment;\n        if (segment.startsWith('[...')) {\n          segment = segment.slice(4, -1);\n          const param = params[segment];\n          if (Array.isArray(param)) {\n            return param.join('/');\n          } else {\n            return param?.split(',')?.join('/') ?? '';\n          }\n        } else {\n          segment = segment.slice(1, -1);\n          return params[segment];\n        }\n      }).filter(Boolean).join('/') ?? '/';\n      if (relativeToDirectory) {\n        base = `${base}/`;\n      }\n      const url = new URL(href, `http://hostname/${base}`);\n      href = `${url.pathname}${url.search}`;\n    }\n    return href;\n  }\n  function createQualifiedPathname(pathname, params) {\n    for (const [key, value = ''] of Object.entries(params)) {\n      const dynamicKey = `[${key}]`;\n      const deepDynamicKey = `[...${key}]`;\n      if (pathname.includes(dynamicKey)) {\n        pathname = pathname.replace(dynamicKey, encodeParam(value));\n      } else if (pathname.includes(deepDynamicKey)) {\n        pathname = pathname.replace(deepDynamicKey, encodeParam(value));\n      } else {\n        continue;\n      }\n      delete params[key];\n    }\n    return {\n      pathname,\n      params\n    };\n  }\n  function encodeParam(param) {\n    if (Array.isArray(param)) {\n      return param.map(p => encodeParam(p)).join('/');\n    }\n    return encodeURIComponent(param.toString());\n  }\n  function createQueryParams(params) {\n    return Object.entries(params)\n    // Allow nullish params\n    .filter(_ref => {\n      let [, value] = _ref;\n      return value != null;\n    }).map(_ref2 => {\n      let [key, value] = _ref2;\n      return `${key}=${encodeURIComponent(value.toString())}`;\n    }).join('&');\n  }\n});","lineCount":98,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"resolveHref"],[7,21,3,19],[7,24,3,22],[7,29,3,27],[7,30,3,28],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"resolveHrefStringWithSegments"],[8,39,4,37],[8,42,4,40,"resolveHrefStringWithSegments"],[8,71,4,69],[9,2,5,0],[10,2,6,0],[10,8,6,6,"resolveHref"],[10,19,6,17],[10,22,6,21,"href"],[10,26,6,25],[10,30,6,30],[11,4,7,4],[11,8,7,8],[11,15,7,15,"href"],[11,19,7,19],[11,24,7,24],[11,32,7,32],[11,34,7,34],[12,6,8,8],[12,13,8,15],[12,14,8,16],[12,15,8,17],[12,17,8,19,"exports"],[12,24,8,26],[12,25,8,27,"resolveHref"],[12,36,8,38],[12,38,8,40],[13,8,8,42,"pathname"],[13,16,8,50],[13,18,8,52,"href"],[14,6,8,57],[14,7,8,58],[14,8,8,59],[15,4,9,4],[16,4,10,4],[16,10,10,10,"path"],[16,14,10,14],[16,17,10,17,"href"],[16,21,10,21],[16,22,10,22,"pathname"],[16,30,10,30],[16,34,10,34],[16,36,10,36],[17,4,11,4],[17,8,11,8],[17,9,11,9,"href"],[17,13,11,13],[17,15,11,15,"params"],[17,21,11,21],[17,23,11,23],[18,6,12,8],[18,13,12,15,"path"],[18,17,12,19],[19,4,13,4],[20,4,14,4],[20,10,14,10],[21,6,14,12,"pathname"],[21,14,14,20],[22,6,14,22,"params"],[23,4,14,29],[23,5,14,30],[23,8,14,33,"createQualifiedPathname"],[23,31,14,56],[23,32,14,57,"path"],[23,36,14,61],[23,38,14,63],[24,6,15,8],[24,9,15,11,"href"],[24,13,15,15],[24,14,15,16,"params"],[25,4,16,4],[25,5,16,5],[25,6,16,6],[26,4,17,4],[26,10,17,10,"paramsString"],[26,22,17,22],[26,25,17,25,"createQueryParams"],[26,42,17,42],[26,43,17,43,"params"],[26,49,17,49],[26,50,17,50],[27,4,18,4],[27,11,18,11,"pathname"],[27,19,18,19],[27,23,18,23,"paramsString"],[27,35,18,35],[27,38,18,38],[27,42,18,42,"paramsString"],[27,54,18,54],[27,56,18,56],[27,59,18,59],[27,61,18,61],[27,62,18,62],[28,2,19,0],[28,3,19,1],[29,2,20,0,"exports"],[29,9,20,7],[29,10,20,8,"resolveHref"],[29,21,20,19],[29,24,20,22,"resolveHref"],[29,35,20,33],[30,2,21,0],[30,11,21,9,"resolveHrefStringWithSegments"],[30,40,21,38,"resolveHrefStringWithSegments"],[30,41,21,39,"href"],[30,45,21,43],[30,47,21,112],[31,4,21,112],[31,8,21,45],[32,6,21,47,"segments"],[32,14,21,55],[32,17,21,58],[32,19,21,60],[33,6,21,62,"params"],[33,12,21,68],[33,15,21,71],[33,16,21,72],[34,4,21,74],[34,5,21,75],[34,8,21,75,"arguments"],[34,17,21,75],[34,18,21,75,"length"],[34,24,21,75],[34,32,21,75,"arguments"],[34,41,21,75],[34,49,21,75,"undefined"],[34,58,21,75],[34,61,21,75,"arguments"],[34,70,21,75],[34,76,21,78],[34,77,21,79],[34,78,21,80],[35,4,21,80],[35,8,21,82],[36,6,21,84,"relativeToDirectory"],[37,4,21,104],[37,5,21,105],[37,8,21,105,"arguments"],[37,17,21,105],[37,18,21,105,"length"],[37,24,21,105],[37,32,21,105,"arguments"],[37,41,21,105],[37,49,21,105,"undefined"],[37,58,21,105],[37,61,21,105,"arguments"],[37,70,21,105],[37,76,21,108],[37,77,21,109],[37,78,21,110],[38,4,22,4],[38,8,22,8,"href"],[38,12,22,12],[38,13,22,13,"startsWith"],[38,23,22,23],[38,24,22,24],[38,27,22,27],[38,28,22,28],[38,30,22,30],[39,6,23,8],[40,6,24,8],[40,10,24,12,"base"],[40,14,24,16],[40,17,24,19,"segments"],[40,25,24,27],[40,27,25,14,"map"],[40,30,25,17],[40,31,25,19,"segment"],[40,38,25,26],[40,42,25,31],[41,8,26,12],[41,12,26,16],[41,13,26,17,"segment"],[41,20,26,24],[41,21,26,25,"startsWith"],[41,31,26,35],[41,32,26,36],[41,35,26,39],[41,36,26,40],[41,38,27,16],[41,45,27,23,"segment"],[41,52,27,30],[42,8,28,12],[42,12,28,16,"segment"],[42,19,28,23],[42,20,28,24,"startsWith"],[42,30,28,34],[42,31,28,35],[42,37,28,41],[42,38,28,42],[42,40,28,44],[43,10,29,16,"segment"],[43,17,29,23],[43,20,29,26,"segment"],[43,27,29,33],[43,28,29,34,"slice"],[43,33,29,39],[43,34,29,40],[43,35,29,41],[43,37,29,43],[43,38,29,44],[43,39,29,45],[43,40,29,46],[44,10,30,16],[44,16,30,22,"param"],[44,21,30,27],[44,24,30,30,"params"],[44,30,30,36],[44,31,30,37,"segment"],[44,38,30,44],[44,39,30,45],[45,10,31,16],[45,14,31,20,"Array"],[45,19,31,25],[45,20,31,26,"isArray"],[45,27,31,33],[45,28,31,34,"param"],[45,33,31,39],[45,34,31,40],[45,36,31,42],[46,12,32,20],[46,19,32,27,"param"],[46,24,32,32],[46,25,32,33,"join"],[46,29,32,37],[46,30,32,38],[46,33,32,41],[46,34,32,42],[47,10,33,16],[47,11,33,17],[47,17,34,21],[48,12,35,20],[48,19,35,27,"param"],[48,24,35,32],[48,26,35,34,"split"],[48,31,35,39],[48,32,35,40],[48,35,35,43],[48,36,35,44],[48,38,35,46,"join"],[48,42,35,50],[48,43,35,51],[48,46,35,54],[48,47,35,55],[48,51,35,59],[48,53,35,61],[49,10,36,16],[50,8,37,12],[50,9,37,13],[50,15,38,17],[51,10,39,16,"segment"],[51,17,39,23],[51,20,39,26,"segment"],[51,27,39,33],[51,28,39,34,"slice"],[51,33,39,39],[51,34,39,40],[51,35,39,41],[51,37,39,43],[51,38,39,44],[51,39,39,45],[51,40,39,46],[52,10,40,16],[52,17,40,23,"params"],[52,23,40,29],[52,24,40,30,"segment"],[52,31,40,37],[52,32,40,38],[53,8,41,12],[54,6,42,8],[54,7,42,9],[54,8,42,10],[54,9,43,13,"filter"],[54,15,43,19],[54,16,43,20,"Boolean"],[54,23,43,27],[54,24,43,28],[54,25,44,13,"join"],[54,29,44,17],[54,30,44,18],[54,33,44,21],[54,34,44,22],[54,38,44,26],[54,41,44,29],[55,6,45,8],[55,10,45,12,"relativeToDirectory"],[55,29,45,31],[55,31,45,33],[56,8,46,12,"base"],[56,12,46,16],[56,15,46,19],[56,18,46,22,"base"],[56,22,46,26],[56,25,46,29],[57,6,47,8],[58,6,48,8],[58,12,48,14,"url"],[58,15,48,17],[58,18,48,20],[58,22,48,24,"URL"],[58,25,48,27],[58,26,48,28,"href"],[58,30,48,32],[58,32,48,34],[58,51,48,53,"base"],[58,55,48,57],[58,57,48,59],[58,58,48,60],[59,6,49,8,"href"],[59,10,49,12],[59,13,49,15],[59,16,49,18,"url"],[59,19,49,21],[59,20,49,22,"pathname"],[59,28,49,30],[59,31,49,33,"url"],[59,34,49,36],[59,35,49,37,"search"],[59,41,49,43],[59,43,49,45],[60,4,50,4],[61,4,51,4],[61,11,51,11,"href"],[61,15,51,15],[62,2,52,0],[63,2,53,0],[63,11,53,9,"createQualifiedPathname"],[63,34,53,32,"createQualifiedPathname"],[63,35,53,33,"pathname"],[63,43,53,41],[63,45,53,43,"params"],[63,51,53,49],[63,53,53,51],[64,4,54,4],[64,9,54,9],[64,15,54,15],[64,16,54,16,"key"],[64,19,54,19],[64,21,54,21,"value"],[64,26,54,26],[64,29,54,29],[64,31,54,31],[64,32,54,32],[64,36,54,36,"Object"],[64,42,54,42],[64,43,54,43,"entries"],[64,50,54,50],[64,51,54,51,"params"],[64,57,54,57],[64,58,54,58],[64,60,54,60],[65,6,55,8],[65,12,55,14,"dynamicKey"],[65,22,55,24],[65,25,55,27],[65,29,55,31,"key"],[65,32,55,34],[65,35,55,37],[66,6,56,8],[66,12,56,14,"deepDynamicKey"],[66,26,56,28],[66,29,56,31],[66,36,56,38,"key"],[66,39,56,41],[66,42,56,44],[67,6,57,8],[67,10,57,12,"pathname"],[67,18,57,20],[67,19,57,21,"includes"],[67,27,57,29],[67,28,57,30,"dynamicKey"],[67,38,57,40],[67,39,57,41],[67,41,57,43],[68,8,58,12,"pathname"],[68,16,58,20],[68,19,58,23,"pathname"],[68,27,58,31],[68,28,58,32,"replace"],[68,35,58,39],[68,36,58,40,"dynamicKey"],[68,46,58,50],[68,48,58,52,"encodeParam"],[68,59,58,63],[68,60,58,64,"value"],[68,65,58,69],[68,66,58,70],[68,67,58,71],[69,6,59,8],[69,7,59,9],[69,13,60,13],[69,17,60,17,"pathname"],[69,25,60,25],[69,26,60,26,"includes"],[69,34,60,34],[69,35,60,35,"deepDynamicKey"],[69,49,60,49],[69,50,60,50],[69,52,60,52],[70,8,61,12,"pathname"],[70,16,61,20],[70,19,61,23,"pathname"],[70,27,61,31],[70,28,61,32,"replace"],[70,35,61,39],[70,36,61,40,"deepDynamicKey"],[70,50,61,54],[70,52,61,56,"encodeParam"],[70,63,61,67],[70,64,61,68,"value"],[70,69,61,73],[70,70,61,74],[70,71,61,75],[71,6,62,8],[71,7,62,9],[71,13,63,13],[72,8,64,12],[73,6,65,8],[74,6,66,8],[74,13,66,15,"params"],[74,19,66,21],[74,20,66,22,"key"],[74,23,66,25],[74,24,66,26],[75,4,67,4],[76,4,68,4],[76,11,68,11],[77,6,68,13,"pathname"],[77,14,68,21],[78,6,68,23,"params"],[79,4,68,30],[79,5,68,31],[80,2,69,0],[81,2,70,0],[81,11,70,9,"encodeParam"],[81,22,70,20,"encodeParam"],[81,23,70,21,"param"],[81,28,70,26],[81,30,70,28],[82,4,71,4],[82,8,71,8,"Array"],[82,13,71,13],[82,14,71,14,"isArray"],[82,21,71,21],[82,22,71,22,"param"],[82,27,71,27],[82,28,71,28],[82,30,71,30],[83,6,72,8],[83,13,72,15,"param"],[83,18,72,20],[83,19,72,21,"map"],[83,22,72,24],[83,23,72,26,"p"],[83,24,72,27],[83,28,72,32,"encodeParam"],[83,39,72,43],[83,40,72,44,"p"],[83,41,72,45],[83,42,72,46],[83,43,72,47],[83,44,72,48,"join"],[83,48,72,52],[83,49,72,53],[83,52,72,56],[83,53,72,57],[84,4,73,4],[85,4,74,4],[85,11,74,11,"encodeURIComponent"],[85,29,74,29],[85,30,74,30,"param"],[85,35,74,35],[85,36,74,36,"toString"],[85,44,74,44],[85,45,74,45],[85,46,74,46],[85,47,74,47],[86,2,75,0],[87,2,76,0],[87,11,76,9,"createQueryParams"],[87,28,76,26,"createQueryParams"],[87,29,76,27,"params"],[87,35,76,33],[87,37,76,35],[88,4,77,4],[88,11,77,12,"Object"],[88,17,77,18],[88,18,77,19,"entries"],[88,25,77,26],[88,26,77,27,"params"],[88,32,77,33],[89,4,78,8],[90,4,78,8],[90,5,79,9,"filter"],[90,11,79,15],[90,12,79,16,"_ref"],[90,16,79,16],[91,6,79,16],[91,10,79,17],[91,13,79,20,"value"],[91,18,79,25],[91,19,79,26],[91,22,79,26,"_ref"],[91,26,79,26],[92,6,79,26],[92,13,79,31,"value"],[92,18,79,36],[92,22,79,40],[92,26,79,44],[93,4,79,44],[93,6,79,45],[93,7,80,9,"map"],[93,10,80,12],[93,11,80,13,"_ref2"],[93,16,80,13],[94,6,80,13],[94,10,80,14],[94,11,80,15,"key"],[94,14,80,18],[94,16,80,20,"value"],[94,21,80,25],[94,22,80,26],[94,25,80,26,"_ref2"],[94,30,80,26],[95,6,80,26],[95,13,80,31],[95,16,80,34,"key"],[95,19,80,37],[95,23,80,41,"encodeURIComponent"],[95,41,80,59],[95,42,80,60,"value"],[95,47,80,65],[95,48,80,66,"toString"],[95,56,80,74],[95,57,80,75],[95,58,80,76],[95,59,80,77],[95,61,80,79],[96,4,80,79],[96,6,80,80],[96,7,81,9,"join"],[96,11,81,13],[96,12,81,14],[96,15,81,17],[96,16,81,18],[97,2,82,0],[98,0,82,1]],"functionMap":{"names":["<global>","resolveHref","resolveHrefStringWithSegments","segments.map$argument_0","createQualifiedPathname","encodeParam","param.map$argument_0","createQueryParams","Object.entries.filter$argument_0","Object.entries.filter.map$argument_0"],"mappings":"AAA;oBCK;CDa;AEE;kBCI;SDiB;CFU;AIC;CJgB;AKC;yBCE,qBD;CLG;AOC;gBCG,4BD;aEC,kEF;CPE"}},"type":"js/module"}]}