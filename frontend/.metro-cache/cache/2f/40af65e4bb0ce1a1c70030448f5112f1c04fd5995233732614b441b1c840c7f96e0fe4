{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":92,"column":0,"index":2501}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"6eZFbfKht0uO2NEVT/d8+i8B0s8="}},{"name":"axios","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"4fmpRhA0poIOZPSWyeqhuAF1vD4="}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":92,"column":0,"index":2501}}],"key":"o13xJBIQrtUiTCNVAdR54EGZcWw="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuth = exports.AuthProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[3], \"axios\"));\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\"; // Backend URL with fallback for APK builds\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://resto-pos-hub-2.preview.emergentagent.com';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await _asyncStorage.default.getItem('token');\n        const storedUser = await _asyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (phone, password) => {\n      try {\n        const response = await _axios.default.post(`${BACKEND_URL}/api/login`, {\n          phone,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await _asyncStorage.default.setItem('token', newToken);\n        await _asyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      await _asyncStorage.default.removeItem('token');\n      await _asyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this);\n  };\n  exports.AuthProvider = AuthProvider;\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  exports.useAuth = useAuth;\n});","lineCount":86,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_asyncStorage"],[8,19,2,0],[8,22,2,0,"_interopRequireDefault"],[8,44,2,0],[8,45,2,0,"require"],[8,52,2,0],[8,53,2,0,"_dependencyMap"],[8,67,2,0],[9,2,3,0],[9,6,3,0,"_axios"],[9,12,3,0],[9,15,3,0,"_interopRequireDefault"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,3,26],[10,6,3,26,"_jsxDevRuntime"],[10,20,3,26],[10,23,3,26,"require"],[10,30,3,26],[10,31,3,26,"_dependencyMap"],[10,45,3,26],[11,2,3,26],[11,6,3,26,"_jsxFileName"],[11,18,3,26],[11,62,5,0],[12,2,5,0],[12,11,5,0,"_interopRequireWildcard"],[12,35,5,0,"e"],[12,36,5,0],[12,38,5,0,"t"],[12,39,5,0],[12,68,5,0,"WeakMap"],[12,75,5,0],[12,81,5,0,"r"],[12,82,5,0],[12,89,5,0,"WeakMap"],[12,96,5,0],[12,100,5,0,"n"],[12,101,5,0],[12,108,5,0,"WeakMap"],[12,115,5,0],[12,127,5,0,"_interopRequireWildcard"],[12,150,5,0],[12,162,5,0,"_interopRequireWildcard"],[12,163,5,0,"e"],[12,164,5,0],[12,166,5,0,"t"],[12,167,5,0],[12,176,5,0,"t"],[12,177,5,0],[12,181,5,0,"e"],[12,182,5,0],[12,186,5,0,"e"],[12,187,5,0],[12,188,5,0,"__esModule"],[12,198,5,0],[12,207,5,0,"e"],[12,208,5,0],[12,214,5,0,"o"],[12,215,5,0],[12,217,5,0,"i"],[12,218,5,0],[12,220,5,0,"f"],[12,221,5,0],[12,226,5,0,"__proto__"],[12,235,5,0],[12,243,5,0,"default"],[12,250,5,0],[12,252,5,0,"e"],[12,253,5,0],[12,270,5,0,"e"],[12,271,5,0],[12,294,5,0,"e"],[12,295,5,0],[12,320,5,0,"e"],[12,321,5,0],[12,330,5,0,"f"],[12,331,5,0],[12,337,5,0,"o"],[12,338,5,0],[12,341,5,0,"t"],[12,342,5,0],[12,345,5,0,"n"],[12,346,5,0],[12,349,5,0,"r"],[12,350,5,0],[12,358,5,0,"o"],[12,359,5,0],[12,360,5,0,"has"],[12,363,5,0],[12,364,5,0,"e"],[12,365,5,0],[12,375,5,0,"o"],[12,376,5,0],[12,377,5,0,"get"],[12,380,5,0],[12,381,5,0,"e"],[12,382,5,0],[12,385,5,0,"o"],[12,386,5,0],[12,387,5,0,"set"],[12,390,5,0],[12,391,5,0,"e"],[12,392,5,0],[12,394,5,0,"f"],[12,395,5,0],[12,411,5,0,"t"],[12,412,5,0],[12,416,5,0,"e"],[12,417,5,0],[12,433,5,0,"t"],[12,434,5,0],[12,441,5,0,"hasOwnProperty"],[12,455,5,0],[12,456,5,0,"call"],[12,460,5,0],[12,461,5,0,"e"],[12,462,5,0],[12,464,5,0,"t"],[12,465,5,0],[12,472,5,0,"i"],[12,473,5,0],[12,477,5,0,"o"],[12,478,5,0],[12,481,5,0,"Object"],[12,487,5,0],[12,488,5,0,"defineProperty"],[12,502,5,0],[12,507,5,0,"Object"],[12,513,5,0],[12,514,5,0,"getOwnPropertyDescriptor"],[12,538,5,0],[12,539,5,0,"e"],[12,540,5,0],[12,542,5,0,"t"],[12,543,5,0],[12,550,5,0,"i"],[12,551,5,0],[12,552,5,0,"get"],[12,555,5,0],[12,559,5,0,"i"],[12,560,5,0],[12,561,5,0,"set"],[12,564,5,0],[12,568,5,0,"o"],[12,569,5,0],[12,570,5,0,"f"],[12,571,5,0],[12,573,5,0,"t"],[12,574,5,0],[12,576,5,0,"i"],[12,577,5,0],[12,581,5,0,"f"],[12,582,5,0],[12,583,5,0,"t"],[12,584,5,0],[12,588,5,0,"e"],[12,589,5,0],[12,590,5,0,"t"],[12,591,5,0],[12,602,5,0,"f"],[12,603,5,0],[12,608,5,0,"e"],[12,609,5,0],[12,611,5,0,"t"],[12,612,5,0],[13,2,6,0],[13,8,6,6,"BACKEND_URL"],[13,19,6,17],[13,22,6,20,"process"],[13,29,6,27],[13,30,6,28,"env"],[13,33,6,31],[13,34,6,32,"EXPO_PUBLIC_BACKEND_URL"],[13,57,6,55],[13,61,6,59],[13,112,6,110],[14,2,25,0],[14,8,25,6,"AuthContext"],[14,19,25,17],[14,35,25,20],[14,39,25,20,"createContext"],[14,59,25,33],[14,61,25,63,"undefined"],[14,70,25,72],[14,71,25,73],[15,2,27,7],[15,8,27,13,"AuthProvider"],[15,20,27,66],[15,23,27,69,"AuthProvider"],[15,24,27,70],[16,4,27,72,"children"],[17,2,27,81],[17,3,27,82],[17,8,27,87],[18,4,28,2],[18,10,28,8],[18,11,28,9,"user"],[18,15,28,13],[18,17,28,15,"setUser"],[18,24,28,22],[18,25,28,23],[18,28,28,26],[18,32,28,26,"useState"],[18,47,28,34],[18,49,28,48],[18,53,28,52],[18,54,28,53],[19,4,29,2],[19,10,29,8],[19,11,29,9,"token"],[19,16,29,14],[19,18,29,16,"setToken"],[19,26,29,24],[19,27,29,25],[19,30,29,28],[19,34,29,28,"useState"],[19,49,29,36],[19,51,29,52],[19,55,29,56],[19,56,29,57],[20,4,30,2],[20,10,30,8],[20,11,30,9,"isLoading"],[20,20,30,18],[20,22,30,20,"setIsLoading"],[20,34,30,32],[20,35,30,33],[20,38,30,36],[20,42,30,36,"useState"],[20,57,30,44],[20,59,30,45],[20,63,30,49],[20,64,30,50],[21,4,32,2],[21,8,32,2,"useEffect"],[21,24,32,11],[21,26,32,12],[21,32,32,18],[22,6,33,4,"loadStoredAuth"],[22,20,33,18],[22,21,33,19],[22,22,33,20],[23,4,34,2],[23,5,34,3],[23,7,34,5],[23,9,34,7],[23,10,34,8],[24,4,36,2],[24,10,36,8,"loadStoredAuth"],[24,24,36,22],[24,27,36,25],[24,33,36,25,"loadStoredAuth"],[24,34,36,25],[24,39,36,37],[25,6,37,4],[25,10,37,8],[26,8,38,6],[26,14,38,12,"storedToken"],[26,25,38,23],[26,28,38,26],[26,34,38,32,"AsyncStorage"],[26,55,38,44],[26,56,38,45,"getItem"],[26,63,38,52],[26,64,38,53],[26,71,38,60],[26,72,38,61],[27,8,39,6],[27,14,39,12,"storedUser"],[27,24,39,22],[27,27,39,25],[27,33,39,31,"AsyncStorage"],[27,54,39,43],[27,55,39,44,"getItem"],[27,62,39,51],[27,63,39,52],[27,69,39,58],[27,70,39,59],[28,8,41,6],[28,12,41,10,"storedToken"],[28,23,41,21],[28,27,41,25,"storedUser"],[28,37,41,35],[28,39,41,37],[29,10,42,8,"setToken"],[29,18,42,16],[29,19,42,17,"storedToken"],[29,30,42,28],[29,31,42,29],[30,10,43,8,"setUser"],[30,17,43,15],[30,18,43,16,"JSON"],[30,22,43,20],[30,23,43,21,"parse"],[30,28,43,26],[30,29,43,27,"storedUser"],[30,39,43,37],[30,40,43,38],[30,41,43,39],[31,8,44,6],[32,6,45,4],[32,7,45,5],[32,8,45,6],[32,15,45,13,"error"],[32,20,45,18],[32,22,45,20],[33,8,46,6,"console"],[33,15,46,13],[33,16,46,14,"error"],[33,21,46,19],[33,22,46,20],[33,43,46,41],[33,45,46,43,"error"],[33,50,46,48],[33,51,46,49],[34,6,47,4],[34,7,47,5],[34,16,47,14],[35,8,48,6,"setIsLoading"],[35,20,48,18],[35,21,48,19],[35,26,48,24],[35,27,48,25],[36,6,49,4],[37,4,50,2],[37,5,50,3],[38,4,52,2],[38,10,52,8,"login"],[38,15,52,13],[38,18,52,16],[38,24,52,16,"login"],[38,25,52,23,"phone"],[38,30,52,36],[38,32,52,38,"password"],[38,40,52,54],[38,45,52,59],[39,6,53,4],[39,10,53,8],[40,8,54,6],[40,14,54,12,"response"],[40,22,54,20],[40,25,54,23],[40,31,54,29,"axios"],[40,45,54,34],[40,46,54,35,"post"],[40,50,54,39],[40,51,54,40],[40,54,54,43,"BACKEND_URL"],[40,65,54,54],[40,77,54,66],[40,79,54,68],[41,10,55,8,"phone"],[41,15,55,13],[42,10,56,8,"password"],[43,8,57,6],[43,9,57,7],[43,10,57,8],[44,8,59,6],[44,14,59,12],[45,10,59,14,"token"],[45,15,59,19],[45,17,59,21,"newToken"],[45,25,59,29],[46,10,59,31,"user"],[46,14,59,35],[46,16,59,37,"newUser"],[47,8,59,45],[47,9,59,46],[47,12,59,49,"response"],[47,20,59,57],[47,21,59,58,"data"],[47,25,59,62],[48,8,61,6],[48,14,61,12,"AsyncStorage"],[48,35,61,24],[48,36,61,25,"setItem"],[48,43,61,32],[48,44,61,33],[48,51,61,40],[48,53,61,42,"newToken"],[48,61,61,50],[48,62,61,51],[49,8,62,6],[49,14,62,12,"AsyncStorage"],[49,35,62,24],[49,36,62,25,"setItem"],[49,43,62,32],[49,44,62,33],[49,50,62,39],[49,52,62,41,"JSON"],[49,56,62,45],[49,57,62,46,"stringify"],[49,66,62,55],[49,67,62,56,"newUser"],[49,74,62,63],[49,75,62,64],[49,76,62,65],[50,8,64,6,"setToken"],[50,16,64,14],[50,17,64,15,"newToken"],[50,25,64,23],[50,26,64,24],[51,8,65,6,"setUser"],[51,15,65,13],[51,16,65,14,"newUser"],[51,23,65,21],[51,24,65,22],[52,6,66,4],[52,7,66,5],[52,8,66,6],[52,15,66,13,"error"],[52,20,66,23],[52,22,66,25],[53,8,67,6],[53,14,67,12],[53,18,67,16,"Error"],[53,23,67,21],[53,24,67,22,"error"],[53,29,67,27],[53,30,67,28,"response"],[53,38,67,36],[53,40,67,38,"data"],[53,44,67,42],[53,46,67,44,"detail"],[53,52,67,50],[53,56,67,54],[53,70,67,68],[53,71,67,69],[54,6,68,4],[55,4,69,2],[55,5,69,3],[56,4,71,2],[56,10,71,8,"logout"],[56,16,71,14],[56,19,71,17],[56,25,71,17,"logout"],[56,26,71,17],[56,31,71,29],[57,6,72,4],[57,12,72,10,"AsyncStorage"],[57,33,72,22],[57,34,72,23,"removeItem"],[57,44,72,33],[57,45,72,34],[57,52,72,41],[57,53,72,42],[58,6,73,4],[58,12,73,10,"AsyncStorage"],[58,33,73,22],[58,34,73,23,"removeItem"],[58,44,73,33],[58,45,73,34],[58,51,73,40],[58,52,73,41],[59,6,74,4,"setToken"],[59,14,74,12],[59,15,74,13],[59,19,74,17],[59,20,74,18],[60,6,75,4,"setUser"],[60,13,75,11],[60,14,75,12],[60,18,75,16],[60,19,75,17],[61,4,76,2],[61,5,76,3],[62,4,78,2],[62,24,79,4],[62,28,79,4,"_jsxDevRuntime"],[62,42,79,4],[62,43,79,4,"jsxDEV"],[62,49,79,4],[62,51,79,5,"AuthContext"],[62,62,79,16],[62,63,79,17,"Provider"],[62,71,79,25],[63,6,79,26,"value"],[63,11,79,31],[63,13,79,33],[64,8,79,35,"user"],[64,12,79,39],[65,8,79,41,"token"],[65,13,79,46],[66,8,79,48,"login"],[66,13,79,53],[67,8,79,55,"logout"],[67,14,79,61],[68,8,79,63,"isLoading"],[69,6,79,73],[69,7,79,75],[70,6,79,75,"children"],[70,14,79,75],[70,16,80,7,"children"],[71,4,80,15],[72,6,80,15,"fileName"],[72,14,80,15],[72,16,80,15,"_jsxFileName"],[72,28,80,15],[73,6,80,15,"lineNumber"],[73,16,80,15],[74,6,80,15,"columnNumber"],[74,18,80,15],[75,4,80,15],[75,11,81,26],[75,12,81,27],[76,2,83,0],[76,3,83,1],[77,2,83,2,"exports"],[77,9,83,2],[77,10,83,2,"AuthProvider"],[77,22,83,2],[77,25,83,2,"AuthProvider"],[77,37,83,2],[78,2,85,7],[78,8,85,13,"useAuth"],[78,15,85,20],[78,18,85,23,"useAuth"],[78,19,85,23],[78,24,85,29],[79,4,86,2],[79,10,86,8,"context"],[79,17,86,15],[79,20,86,18],[79,24,86,18,"useContext"],[79,41,86,28],[79,43,86,29,"AuthContext"],[79,54,86,40],[79,55,86,41],[80,4,87,2],[80,8,87,6],[80,9,87,7,"context"],[80,16,87,14],[80,18,87,16],[81,6,88,4],[81,12,88,10],[81,16,88,14,"Error"],[81,21,88,19],[81,22,88,20],[81,64,88,62],[81,65,88,63],[82,4,89,2],[83,4,90,2],[83,11,90,9,"context"],[83,18,90,16],[84,2,91,0],[84,3,91,1],[85,2,91,2,"exports"],[85,9,91,2],[85,10,91,2,"useAuth"],[85,17,91,2],[85,20,91,2,"useAuth"],[85,27,91,2],[86,0,91,2]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qEC0B;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"}},"type":"js/module"}]}