{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (phone, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/login`, {\n          phone,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":112,"map":[[15,2,24,0,"Object"],[15,8,24,0],[15,9,24,0,"defineProperty"],[15,23,24,0],[15,24,24,0,"exports"],[15,31,24,0],[16,4,24,0,"enumerable"],[16,14,24,0],[17,4,24,0,"get"],[17,7,24,0],[17,18,24,0,"get"],[17,19,24,0],[18,6,24,0],[18,13,24,0,"AuthProvider"],[18,25,24,0],[19,4,24,0],[20,2,24,0],[21,2,82,0,"Object"],[21,8,82,0],[21,9,82,0,"defineProperty"],[21,23,82,0],[21,24,82,0,"exports"],[21,31,82,0],[22,4,82,0,"enumerable"],[22,14,82,0],[23,4,82,0,"get"],[23,7,82,0],[23,18,82,0,"get"],[23,19,82,0],[24,6,82,0],[24,13,82,0,"useAuth"],[24,20,82,0],[25,4,82,0],[26,2,82,0],[27,2,88,2],[27,6,88,2,"_expoVirtualEnv"],[27,21,88,2],[27,24,88,2,"require"],[27,31,88,2],[27,32,88,2,"_dependencyMap"],[27,46,88,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxDevRuntime"],[33,25,3,26],[33,28,3,26,"require"],[33,35,3,26],[33,36,3,26,"_dependencyMap"],[33,50,3,26],[34,2,5,0],[34,8,5,6,"BACKEND_URL"],[34,19,5,17],[34,22,5,17,"_expoVirtualEnv"],[34,37,5,17],[34,38,5,17,"env"],[34,41,5,17],[34,42,5,17,"EXPO_PUBLIC_BACKEND_URL"],[34,65,5,55],[35,2,22,0],[35,8,22,6,"AuthContext"],[35,19,22,17],[35,35,22,20],[35,39,22,20,"createContext"],[35,45,22,33],[35,46,22,33,"createContext"],[35,59,22,33],[35,61,22,63,"undefined"],[35,70,22,72],[35,71,22,73],[36,2,24,7],[36,8,24,13,"AuthProvider"],[36,20,24,66],[36,23,24,69,"AuthProvider"],[36,24,24,70],[37,4,24,72,"children"],[38,2,24,81],[38,3,24,82],[38,8,24,87],[39,4,24,87,"_s"],[39,6,24,87],[40,4,25,2],[40,10,25,8],[40,11,25,9,"user"],[40,15,25,13],[40,17,25,15,"setUser"],[40,24,25,22],[40,25,25,23],[40,28,25,26],[40,32,25,26,"useState"],[40,38,25,34],[40,39,25,34,"useState"],[40,47,25,34],[40,49,25,48],[40,53,25,52],[40,54,25,53],[41,4,26,2],[41,10,26,8],[41,11,26,9,"token"],[41,16,26,14],[41,18,26,16,"setToken"],[41,26,26,24],[41,27,26,25],[41,30,26,28],[41,34,26,28,"useState"],[41,40,26,36],[41,41,26,36,"useState"],[41,49,26,36],[41,51,26,52],[41,55,26,56],[41,56,26,57],[42,4,27,2],[42,10,27,8],[42,11,27,9,"isLoading"],[42,20,27,18],[42,22,27,20,"setIsLoading"],[42,34,27,32],[42,35,27,33],[42,38,27,36],[42,42,27,36,"useState"],[42,48,27,44],[42,49,27,44,"useState"],[42,57,27,44],[42,59,27,45],[42,63,27,49],[42,64,27,50],[43,4,29,2],[43,8,29,2,"useEffect"],[43,14,29,11],[43,15,29,11,"useEffect"],[43,24,29,11],[43,26,29,12],[43,32,29,18],[44,6,30,4,"loadStoredAuth"],[44,20,30,18],[44,21,30,19],[44,22,30,20],[45,4,31,2],[45,5,31,3],[45,7,31,5],[45,9,31,7],[45,10,31,8],[46,4,33,2],[46,10,33,8,"loadStoredAuth"],[46,24,33,22],[46,27,33,25],[46,33,33,25,"loadStoredAuth"],[46,34,33,25],[46,39,33,37],[47,6,34,4],[47,10,34,8],[48,8,35,6],[48,14,35,12,"storedToken"],[48,25,35,23],[48,28,35,26],[48,34,35,32,"AsyncStorage"],[48,46,35,44],[48,47,35,44,"default"],[48,54,35,44],[48,55,35,45,"getItem"],[48,62,35,52],[48,63,35,53],[48,70,35,60],[48,71,35,61],[49,8,36,6],[49,14,36,12,"storedUser"],[49,24,36,22],[49,27,36,25],[49,33,36,31,"AsyncStorage"],[49,45,36,43],[49,46,36,43,"default"],[49,53,36,43],[49,54,36,44,"getItem"],[49,61,36,51],[49,62,36,52],[49,68,36,58],[49,69,36,59],[50,8,38,6],[50,12,38,10,"storedToken"],[50,23,38,21],[50,27,38,25,"storedUser"],[50,37,38,35],[50,39,38,37],[51,10,39,8,"setToken"],[51,18,39,16],[51,19,39,17,"storedToken"],[51,30,39,28],[51,31,39,29],[52,10,40,8,"setUser"],[52,17,40,15],[52,18,40,16,"JSON"],[52,22,40,20],[52,23,40,21,"parse"],[52,28,40,26],[52,29,40,27,"storedUser"],[52,39,40,37],[52,40,40,38],[52,41,40,39],[53,8,41,6],[54,6,42,4],[54,7,42,5],[54,8,42,6],[54,15,42,13,"error"],[54,20,42,18],[54,22,42,20],[55,8,43,6,"console"],[55,15,43,13],[55,16,43,14,"error"],[55,21,43,19],[55,22,43,20],[55,43,43,41],[55,45,43,43,"error"],[55,50,43,48],[55,51,43,49],[56,6,44,4],[56,7,44,5],[56,16,44,14],[57,8,45,6,"setIsLoading"],[57,20,45,18],[57,21,45,19],[57,26,45,24],[57,27,45,25],[58,6,46,4],[59,4,47,2],[59,5,47,3],[60,4,49,2],[60,10,49,8,"login"],[60,15,49,13],[60,18,49,16],[60,24,49,16,"login"],[60,25,49,23,"phone"],[60,30,49,36],[60,32,49,38,"password"],[60,40,49,54],[60,45,49,59],[61,6,50,4],[61,10,50,8],[62,8,51,6],[62,14,51,12,"response"],[62,22,51,20],[62,25,51,23],[62,31,51,29,"axios"],[62,36,51,34],[62,37,51,34,"default"],[62,44,51,34],[62,45,51,35,"post"],[62,49,51,39],[62,50,51,40],[62,53,51,43,"BACKEND_URL"],[62,64,51,54],[62,76,51,66],[62,78,51,68],[63,10,52,8,"phone"],[63,15,52,13],[64,10,53,8,"password"],[65,8,54,6],[65,9,54,7],[65,10,54,8],[66,8,56,6],[66,14,56,12],[67,10,56,14,"token"],[67,15,56,19],[67,17,56,21,"newToken"],[67,25,56,29],[68,10,56,31,"user"],[68,14,56,35],[68,16,56,37,"newUser"],[69,8,56,45],[69,9,56,46],[69,12,56,49,"response"],[69,20,56,57],[69,21,56,58,"data"],[69,25,56,62],[70,8,58,6],[70,14,58,12,"AsyncStorage"],[70,26,58,24],[70,27,58,24,"default"],[70,34,58,24],[70,35,58,25,"setItem"],[70,42,58,32],[70,43,58,33],[70,50,58,40],[70,52,58,42,"newToken"],[70,60,58,50],[70,61,58,51],[71,8,59,6],[71,14,59,12,"AsyncStorage"],[71,26,59,24],[71,27,59,24,"default"],[71,34,59,24],[71,35,59,25,"setItem"],[71,42,59,32],[71,43,59,33],[71,49,59,39],[71,51,59,41,"JSON"],[71,55,59,45],[71,56,59,46,"stringify"],[71,65,59,55],[71,66,59,56,"newUser"],[71,73,59,63],[71,74,59,64],[71,75,59,65],[72,8,61,6,"setToken"],[72,16,61,14],[72,17,61,15,"newToken"],[72,25,61,23],[72,26,61,24],[73,8,62,6,"setUser"],[73,15,62,13],[73,16,62,14,"newUser"],[73,23,62,21],[73,24,62,22],[74,6,63,4],[74,7,63,5],[74,8,63,6],[74,15,63,13,"error"],[74,20,63,23],[74,22,63,25],[75,8,64,6],[75,14,64,12],[75,18,64,16,"Error"],[75,23,64,21],[75,24,64,22,"error"],[75,29,64,27],[75,30,64,28,"response"],[75,38,64,36],[75,40,64,38,"data"],[75,44,64,42],[75,46,64,44,"detail"],[75,52,64,50],[75,56,64,54],[75,70,64,68],[75,71,64,69],[76,6,65,4],[77,4,66,2],[77,5,66,3],[78,4,68,2],[78,10,68,8,"logout"],[78,16,68,14],[78,19,68,17],[78,25,68,17,"logout"],[78,26,68,17],[78,31,68,29],[79,6,69,4],[79,12,69,10,"AsyncStorage"],[79,24,69,22],[79,25,69,22,"default"],[79,32,69,22],[79,33,69,23,"removeItem"],[79,43,69,33],[79,44,69,34],[79,51,69,41],[79,52,69,42],[80,6,70,4],[80,12,70,10,"AsyncStorage"],[80,24,70,22],[80,25,70,22,"default"],[80,32,70,22],[80,33,70,23,"removeItem"],[80,43,70,33],[80,44,70,34],[80,50,70,40],[80,51,70,41],[81,6,71,4,"setToken"],[81,14,71,12],[81,15,71,13],[81,19,71,17],[81,20,71,18],[82,6,72,4,"setUser"],[82,13,72,11],[82,14,72,12],[82,18,72,16],[82,19,72,17],[83,4,73,2],[83,5,73,3],[84,4,75,2],[84,24,76,4],[84,28,76,4,"_reactJsxDevRuntime"],[84,47,76,4],[84,48,76,4,"jsxDEV"],[84,54,76,4],[84,56,76,5,"AuthContext"],[84,67,76,16],[84,68,76,17,"Provider"],[84,76,76,25],[85,6,76,26,"value"],[85,11,76,31],[85,13,76,33],[86,8,76,35,"user"],[86,12,76,39],[87,8,76,41,"token"],[87,13,76,46],[88,8,76,48,"login"],[88,13,76,53],[89,8,76,55,"logout"],[89,14,76,61],[90,8,76,63,"isLoading"],[91,6,76,73],[91,7,76,75],[92,6,76,75,"children"],[92,14,76,75],[92,16,77,7,"children"],[93,4,77,15],[94,6,77,15,"fileName"],[94,14,77,15],[94,16,77,15,"_jsxFileName"],[94,28,77,15],[95,6,77,15,"lineNumber"],[95,16,77,15],[96,6,77,15,"columnNumber"],[96,18,77,15],[97,4,77,15],[97,11,78,26],[97,12,78,27],[98,2,80,0],[98,3,80,1],[99,2,80,2,"_s"],[99,4,80,2],[99,5,24,13,"AuthProvider"],[99,17,24,66],[100,2,24,66,"_c"],[100,4,24,66],[100,7,24,13,"AuthProvider"],[100,19,24,66],[101,2,82,7],[101,8,82,13,"useAuth"],[101,15,82,20],[101,18,82,23,"useAuth"],[101,19,82,23],[101,24,82,29],[102,4,82,29,"_s2"],[102,7,82,29],[103,4,83,2],[103,10,83,8,"context"],[103,17,83,15],[103,20,83,18],[103,24,83,18,"useContext"],[103,30,83,28],[103,31,83,28,"useContext"],[103,41,83,28],[103,43,83,29,"AuthContext"],[103,54,83,40],[103,55,83,41],[104,4,84,2],[104,8,84,6],[104,9,84,7,"context"],[104,16,84,14],[104,18,84,16],[105,6,85,4],[105,12,85,10],[105,16,85,14,"Error"],[105,21,85,19],[105,22,85,20],[105,64,85,62],[105,65,85,63],[106,4,86,2],[107,4,87,2],[107,11,87,9,"context"],[107,18,87,16],[108,2,88,0],[108,3,88,1],[109,2,88,2,"_s2"],[109,5,88,2],[109,6,82,13,"useAuth"],[109,13,82,20],[110,2,82,20],[110,6,82,20,"_c"],[110,8,82,20],[111,2,82,20,"$RefreshReg$"],[111,14,82,20],[111,15,82,20,"_c"],[111,17,82,20],[112,0,82,20],[112,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECuB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}