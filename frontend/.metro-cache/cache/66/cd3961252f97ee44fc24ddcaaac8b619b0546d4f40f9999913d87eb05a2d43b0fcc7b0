{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":65,"column":0,"index":1758}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../modules/symbolicateStackTrace","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":296},"end":{"line":11,"column":69,"index":365}}],"key":"Z3Jfskz726i1mYhX/BIyoi1+fQo="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.deleteStack = deleteStack;\n  exports.symbolicate = symbolicate;\n  var _symbolicateStackTrace = _interopRequireDefault(require(_dependencyMap[1], \"../modules/symbolicateStackTrace\"));\n  /**\n   * Copyright (c) 650 Industries.\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  const cache = new Map();\n\n  /**\n   * Sanitize because sometimes, `symbolicateStackTrace` gives us invalid values.\n   */\n  const sanitize = _ref => {\n    let {\n      stack: maybeStack,\n      codeFrame\n    } = _ref;\n    if (!Array.isArray(maybeStack)) {\n      throw new Error('Expected stack to be an array.');\n    }\n    const stack = [];\n    for (const maybeFrame of maybeStack) {\n      let collapse = false;\n      if ('collapse' in maybeFrame) {\n        if (typeof maybeFrame.collapse !== 'boolean') {\n          throw new Error('Expected stack frame `collapse` to be a boolean.');\n        }\n        collapse = maybeFrame.collapse;\n      }\n      stack.push({\n        arguments: [],\n        column: maybeFrame.column,\n        file: maybeFrame.file,\n        lineNumber: maybeFrame.lineNumber,\n        methodName: maybeFrame.methodName,\n        collapse\n      });\n    }\n    return {\n      stack,\n      codeFrame\n    };\n  };\n  function deleteStack(stack) {\n    cache.delete(stack);\n  }\n  function symbolicate(stack) {\n    let promise = cache.get(stack);\n    if (promise == null) {\n      promise = (0, _symbolicateStackTrace.default)(stack).then(sanitize);\n      cache.set(stack, promise);\n    }\n    return promise;\n  }\n});","lineCount":64,"map":[[8,2,11,0],[8,6,11,0,"_symbolicateStackTrace"],[8,28,11,0],[8,31,11,0,"_interopRequireDefault"],[8,53,11,0],[8,54,11,0,"require"],[8,61,11,0],[8,62,11,0,"_dependencyMap"],[8,76,11,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[15,0,7,0],[17,2,19,0],[17,8,19,6,"cache"],[17,13,19,56],[17,16,19,59],[17,20,19,63,"Map"],[17,23,19,66],[17,24,19,67],[17,25,19,68],[19,2,21,0],[20,0,22,0],[21,0,23,0],[22,2,24,0],[22,8,24,6,"sanitize"],[22,16,24,14],[22,19,24,17,"_ref"],[22,23,24,17],[22,27,27,54],[23,4,27,54],[23,8,24,18],[24,6,25,2,"stack"],[24,11,25,7],[24,13,25,9,"maybeStack"],[24,23,25,19],[25,6,26,2,"codeFrame"],[26,4,27,24],[26,5,27,25],[26,8,27,25,"_ref"],[26,12,27,25],[27,4,28,2],[27,8,28,6],[27,9,28,7,"Array"],[27,14,28,12],[27,15,28,13,"isArray"],[27,22,28,20],[27,23,28,21,"maybeStack"],[27,33,28,31],[27,34,28,32],[27,36,28,34],[28,6,29,4],[28,12,29,10],[28,16,29,14,"Error"],[28,21,29,19],[28,22,29,20],[28,54,29,52],[28,55,29,53],[29,4,30,2],[30,4,31,2],[30,10,31,8,"stack"],[30,15,31,27],[30,18,31,30],[30,20,31,32],[31,4,32,2],[31,9,32,7],[31,15,32,13,"maybeFrame"],[31,25,32,23],[31,29,32,27,"maybeStack"],[31,39,32,37],[31,41,32,39],[32,6,33,4],[32,10,33,8,"collapse"],[32,18,33,16],[32,21,33,19],[32,26,33,24],[33,6,34,4],[33,10,34,8],[33,20,34,18],[33,24,34,22,"maybeFrame"],[33,34,34,32],[33,36,34,34],[34,8,35,6],[34,12,35,10],[34,19,35,17,"maybeFrame"],[34,29,35,27],[34,30,35,28,"collapse"],[34,38,35,36],[34,43,35,41],[34,52,35,50],[34,54,35,52],[35,10,36,8],[35,16,36,14],[35,20,36,18,"Error"],[35,25,36,23],[35,26,36,24],[35,76,36,74],[35,77,36,75],[36,8,37,6],[37,8,38,6,"collapse"],[37,16,38,14],[37,19,38,17,"maybeFrame"],[37,29,38,27],[37,30,38,28,"collapse"],[37,38,38,36],[38,6,39,4],[39,6,40,4,"stack"],[39,11,40,9],[39,12,40,10,"push"],[39,16,40,14],[39,17,40,15],[40,8,41,6,"arguments"],[40,17,41,15],[40,19,41,17],[40,21,41,19],[41,8,42,6,"column"],[41,14,42,12],[41,16,42,14,"maybeFrame"],[41,26,42,24],[41,27,42,25,"column"],[41,33,42,31],[42,8,43,6,"file"],[42,12,43,10],[42,14,43,12,"maybeFrame"],[42,24,43,22],[42,25,43,23,"file"],[42,29,43,27],[43,8,44,6,"lineNumber"],[43,18,44,16],[43,20,44,18,"maybeFrame"],[43,30,44,28],[43,31,44,29,"lineNumber"],[43,41,44,39],[44,8,45,6,"methodName"],[44,18,45,16],[44,20,45,18,"maybeFrame"],[44,30,45,28],[44,31,45,29,"methodName"],[44,41,45,39],[45,8,46,6,"collapse"],[46,6,47,4],[46,7,47,5],[46,8,47,6],[47,4,48,2],[48,4,49,2],[48,11,49,9],[49,6,49,11,"stack"],[49,11,49,16],[50,6,49,18,"codeFrame"],[51,4,49,28],[51,5,49,29],[52,2,50,0],[52,3,50,1],[53,2,52,7],[53,11,52,16,"deleteStack"],[53,22,52,27,"deleteStack"],[53,23,52,28,"stack"],[53,28,52,40],[53,30,52,48],[54,4,53,2,"cache"],[54,9,53,7],[54,10,53,8,"delete"],[54,16,53,14],[54,17,53,15,"stack"],[54,22,53,20],[54,23,53,21],[55,2,54,0],[56,2,56,7],[56,11,56,16,"symbolicate"],[56,22,56,27,"symbolicate"],[56,23,56,28,"stack"],[56,28,56,40],[56,30,56,75],[57,4,57,2],[57,8,57,6,"promise"],[57,15,57,13],[57,18,57,16,"cache"],[57,23,57,21],[57,24,57,22,"get"],[57,27,57,25],[57,28,57,26,"stack"],[57,33,57,31],[57,34,57,32],[58,4,58,2],[58,8,58,6,"promise"],[58,15,58,13],[58,19,58,17],[58,23,58,21],[58,25,58,23],[59,6,59,4,"promise"],[59,13,59,11],[59,16,59,14],[59,20,59,14,"symbolicateStackTrace"],[59,50,59,35],[59,52,59,36,"stack"],[59,57,59,41],[59,58,59,42],[59,59,59,43,"then"],[59,63,59,47],[59,64,59,48,"sanitize"],[59,72,59,56],[59,73,59,57],[60,6,60,4,"cache"],[60,11,60,9],[60,12,60,10,"set"],[60,15,60,13],[60,16,60,14,"stack"],[60,21,60,19],[60,23,60,21,"promise"],[60,30,60,28],[60,31,60,29],[61,4,61,2],[62,4,63,2],[62,11,63,9,"promise"],[62,18,63,16],[63,2,64,0],[64,0,64,1]],"functionMap":{"names":["<global>","sanitize","deleteStack","symbolicate"],"mappings":"AAA;iBCuB;CD0B;OEE;CFE;OGE;CHQ"}},"type":"js/module"}]}