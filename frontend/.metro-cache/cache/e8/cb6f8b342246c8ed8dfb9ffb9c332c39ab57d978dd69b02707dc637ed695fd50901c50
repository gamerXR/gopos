{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[4]);\n  var axios = _interopDefault(_axios);\n  var _reactJsxRuntime = require(_dependencyMap[5]);\n  var BACKEND_URL = \"https://gopos-app.preview.emergentagent.com\";\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var AuthProvider = _ref => {\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      token = _useState4[0],\n      setToken = _useState4[1];\n    var _useState5 = (0, _react.useState)(true),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    var loadStoredAuth = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var storedToken = yield AsyncStorage.default.getItem('token');\n          var storedUser = yield AsyncStorage.default.getItem('user');\n          if (storedToken && storedUser) {\n            setToken(storedToken);\n            setUser(JSON.parse(storedUser));\n          }\n        } catch (error) {\n          console.error('Error loading auth:', error);\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function loadStoredAuth() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var login = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (phone, password) {\n        try {\n          var response = yield axios.default.post(`${BACKEND_URL}/api/login`, {\n            phone,\n            password\n          });\n          var _response$data = response.data,\n            newToken = _response$data.token,\n            newUser = _response$data.user;\n          yield AsyncStorage.default.setItem('token', newToken);\n          yield AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n          setToken(newToken);\n          setUser(newUser);\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Login failed');\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.removeItem('token');\n        yield AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      });\n      return function logout() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    });\n  };\n  var useAuth = () => {\n    var context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":123,"map":[[12,2,26,0,"Object"],[12,8,26,0],[12,9,26,0,"defineProperty"],[12,23,26,0],[12,24,26,0,"exports"],[12,31,26,0],[13,4,26,0,"enumerable"],[13,14,26,0],[14,4,26,0,"get"],[14,7,26,0],[14,18,26,0,"get"],[14,19,26,0],[15,6,26,0],[15,13,26,0,"AuthProvider"],[15,25,26,0],[16,4,26,0],[17,2,26,0],[18,2,84,0,"Object"],[18,8,84,0],[18,9,84,0,"defineProperty"],[18,23,84,0],[18,24,84,0,"exports"],[18,31,84,0],[19,4,84,0,"enumerable"],[19,14,84,0],[20,4,84,0,"get"],[20,7,84,0],[20,18,84,0,"get"],[20,19,84,0],[21,6,84,0],[21,13,84,0,"useAuth"],[21,20,84,0],[22,4,84,0],[23,2,84,0],[24,2,90,2],[24,6,90,2,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,90,2],[24,45,90,2,"require"],[24,52,90,2],[24,53,90,2,"_dependencyMap"],[24,67,90,2],[25,2,90,2],[25,6,90,2,"_asyncToGenerator"],[25,23,90,2],[25,26,90,2,"_interopDefault"],[25,41,90,2],[25,42,90,2,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,90,2],[26,2,90,2],[26,6,90,2,"_babelRuntimeHelpersSlicedToArray"],[26,39,90,2],[26,42,90,2,"require"],[26,49,90,2],[26,50,90,2,"_dependencyMap"],[26,64,90,2],[27,2,90,2],[27,6,90,2,"_slicedToArray"],[27,20,90,2],[27,23,90,2,"_interopDefault"],[27,38,90,2],[27,39,90,2,"_babelRuntimeHelpersSlicedToArray"],[27,72,90,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxRuntime"],[33,22,3,26],[33,25,3,26,"require"],[33,32,3,26],[33,33,3,26,"_dependencyMap"],[33,47,3,26],[34,2,5,0],[34,6,5,6,"BACKEND_URL"],[34,17,5,17],[34,65,5,55],[35,2,24,0],[35,6,24,6,"AuthContext"],[35,17,24,17],[35,33,24,20],[35,37,24,20,"createContext"],[35,43,24,33],[35,44,24,33,"createContext"],[35,57,24,33],[35,59,24,63,"undefined"],[35,68,24,72],[35,69,24,73],[36,2,26,7],[36,6,26,13,"AuthProvider"],[36,18,26,66],[36,21,26,69,"_ref"],[36,25,26,69],[36,29,26,87],[37,4,26,87],[37,8,26,72,"children"],[37,16,26,80],[37,19,26,80,"_ref"],[37,23,26,80],[37,24,26,72,"children"],[37,32,26,80],[38,4,27,2],[38,8,27,2,"_useState"],[38,17,27,2],[38,20,27,26],[38,24,27,26,"useState"],[38,30,27,34],[38,31,27,34,"useState"],[38,39,27,34],[38,41,27,48],[38,45,27,52],[38,46,27,53],[39,6,27,53,"_useState2"],[39,16,27,53],[39,23,27,53,"_slicedToArray"],[39,37,27,53],[39,38,27,53,"default"],[39,45,27,53],[39,47,27,53,"_useState"],[39,56,27,53],[40,6,27,9,"user"],[40,10,27,13],[40,13,27,13,"_useState2"],[40,23,27,13],[41,6,27,15,"setUser"],[41,13,27,22],[41,16,27,22,"_useState2"],[41,26,27,22],[42,4,28,2],[42,8,28,2,"_useState3"],[42,18,28,2],[42,21,28,28],[42,25,28,28,"useState"],[42,31,28,36],[42,32,28,36,"useState"],[42,40,28,36],[42,42,28,52],[42,46,28,56],[42,47,28,57],[43,6,28,57,"_useState4"],[43,16,28,57],[43,23,28,57,"_slicedToArray"],[43,37,28,57],[43,38,28,57,"default"],[43,45,28,57],[43,47,28,57,"_useState3"],[43,57,28,57],[44,6,28,9,"token"],[44,11,28,14],[44,14,28,14,"_useState4"],[44,24,28,14],[45,6,28,16,"setToken"],[45,14,28,24],[45,17,28,24,"_useState4"],[45,27,28,24],[46,4,29,2],[46,8,29,2,"_useState5"],[46,18,29,2],[46,21,29,36],[46,25,29,36,"useState"],[46,31,29,44],[46,32,29,44,"useState"],[46,40,29,44],[46,42,29,45],[46,46,29,49],[46,47,29,50],[47,6,29,50,"_useState6"],[47,16,29,50],[47,23,29,50,"_slicedToArray"],[47,37,29,50],[47,38,29,50,"default"],[47,45,29,50],[47,47,29,50,"_useState5"],[47,57,29,50],[48,6,29,9,"isLoading"],[48,15,29,18],[48,18,29,18,"_useState6"],[48,28,29,18],[49,6,29,20,"setIsLoading"],[49,18,29,32],[49,21,29,32,"_useState6"],[49,31,29,32],[50,4,31,2],[50,8,31,2,"useEffect"],[50,14,31,11],[50,15,31,11,"useEffect"],[50,24,31,11],[50,26,31,12],[50,32,31,18],[51,6,32,4,"loadStoredAuth"],[51,20,32,18],[51,21,32,19],[51,22,32,20],[52,4,33,2],[52,5,33,3],[52,7,33,5],[52,9,33,7],[52,10,33,8],[53,4,35,2],[53,8,35,8,"loadStoredAuth"],[53,22,35,22],[54,6,35,22],[54,10,35,22,"_ref2"],[54,15,35,22],[54,22,35,22,"_asyncToGenerator"],[54,39,35,22],[54,40,35,22,"default"],[54,47,35,22],[54,49,35,25],[54,62,35,37],[55,8,36,4],[55,12,36,8],[56,10,37,6],[56,14,37,12,"storedToken"],[56,25,37,23],[56,34,37,32,"AsyncStorage"],[56,46,37,44],[56,47,37,44,"default"],[56,54,37,44],[56,55,37,45,"getItem"],[56,62,37,52],[56,63,37,53],[56,70,37,60],[56,71,37,61],[57,10,38,6],[57,14,38,12,"storedUser"],[57,24,38,22],[57,33,38,31,"AsyncStorage"],[57,45,38,43],[57,46,38,43,"default"],[57,53,38,43],[57,54,38,44,"getItem"],[57,61,38,51],[57,62,38,52],[57,68,38,58],[57,69,38,59],[58,10,40,6],[58,14,40,10,"storedToken"],[58,25,40,21],[58,29,40,25,"storedUser"],[58,39,40,35],[58,41,40,37],[59,12,41,8,"setToken"],[59,20,41,16],[59,21,41,17,"storedToken"],[59,32,41,28],[59,33,41,29],[60,12,42,8,"setUser"],[60,19,42,15],[60,20,42,16,"JSON"],[60,24,42,20],[60,25,42,21,"parse"],[60,30,42,26],[60,31,42,27,"storedUser"],[60,41,42,37],[60,42,42,38],[60,43,42,39],[61,10,43,6],[62,8,44,4],[62,9,44,5],[62,10,44,6],[62,17,44,13,"error"],[62,22,44,18],[62,24,44,20],[63,10,45,6,"console"],[63,17,45,13],[63,18,45,14,"error"],[63,23,45,19],[63,24,45,20],[63,45,45,41],[63,47,45,43,"error"],[63,52,45,48],[63,53,45,49],[64,8,46,4],[64,9,46,5],[64,18,46,14],[65,10,47,6,"setIsLoading"],[65,22,47,18],[65,23,47,19],[65,28,47,24],[65,29,47,25],[66,8,48,4],[67,6,49,2],[67,7,49,3],[68,6,49,3],[68,22,35,8,"loadStoredAuth"],[68,36,35,22,"loadStoredAuth"],[68,37,35,22],[69,8,35,22],[69,15,35,22,"_ref2"],[69,20,35,22],[69,21,35,22,"apply"],[69,26,35,22],[69,33,35,22,"arguments"],[69,42,35,22],[70,6,35,22],[71,4,35,22],[71,7,49,3],[72,4,51,2],[72,8,51,8,"login"],[72,13,51,13],[73,6,51,13],[73,10,51,13,"_ref3"],[73,15,51,13],[73,22,51,13,"_asyncToGenerator"],[73,39,51,13],[73,40,51,13,"default"],[73,47,51,13],[73,49,51,16],[73,60,51,23,"phone"],[73,65,51,36],[73,67,51,38,"password"],[73,75,51,54],[73,77,51,59],[74,8,52,4],[74,12,52,8],[75,10,53,6],[75,14,53,12,"response"],[75,22,53,20],[75,31,53,29,"axios"],[75,36,53,34],[75,37,53,34,"default"],[75,44,53,34],[75,45,53,35,"post"],[75,49,53,39],[75,50,53,40],[75,53,53,43,"BACKEND_URL"],[75,64,53,54],[75,76,53,66],[75,78,53,68],[76,12,54,8,"phone"],[76,17,54,13],[77,12,55,8,"password"],[78,10,56,6],[78,11,56,7],[78,12,56,8],[79,10,58,6],[79,14,58,6,"_response$data"],[79,28,58,6],[79,31,58,49,"response"],[79,39,58,57],[79,40,58,58,"data"],[79,44,58,62],[80,12,58,21,"newToken"],[80,20,58,29],[80,23,58,29,"_response$data"],[80,37,58,29],[80,38,58,14,"token"],[80,43,58,19],[81,12,58,37,"newUser"],[81,19,58,44],[81,22,58,44,"_response$data"],[81,36,58,44],[81,37,58,31,"user"],[81,41,58,35],[82,10,60,6],[82,16,60,12,"AsyncStorage"],[82,28,60,24],[82,29,60,24,"default"],[82,36,60,24],[82,37,60,25,"setItem"],[82,44,60,32],[82,45,60,33],[82,52,60,40],[82,54,60,42,"newToken"],[82,62,60,50],[82,63,60,51],[83,10,61,6],[83,16,61,12,"AsyncStorage"],[83,28,61,24],[83,29,61,24,"default"],[83,36,61,24],[83,37,61,25,"setItem"],[83,44,61,32],[83,45,61,33],[83,51,61,39],[83,53,61,41,"JSON"],[83,57,61,45],[83,58,61,46,"stringify"],[83,67,61,55],[83,68,61,56,"newUser"],[83,75,61,63],[83,76,61,64],[83,77,61,65],[84,10,63,6,"setToken"],[84,18,63,14],[84,19,63,15,"newToken"],[84,27,63,23],[84,28,63,24],[85,10,64,6,"setUser"],[85,17,64,13],[85,18,64,14,"newUser"],[85,25,64,21],[85,26,64,22],[86,8,65,4],[86,9,65,5],[86,10,65,6],[86,17,65,13,"error"],[86,22,65,23],[86,24,65,25],[87,10,66,6],[87,16,66,12],[87,20,66,16,"Error"],[87,25,66,21],[87,26,66,22,"error"],[87,31,66,27],[87,32,66,28,"response"],[87,40,66,36],[87,42,66,38,"data"],[87,46,66,42],[87,48,66,44,"detail"],[87,54,66,50],[87,58,66,54],[87,72,66,68],[87,73,66,69],[88,8,67,4],[89,6,68,2],[89,7,68,3],[90,6,68,3],[90,22,51,8,"login"],[90,27,51,13,"login"],[90,28,51,13,"_x"],[90,30,51,13],[90,32,51,13,"_x2"],[90,35,51,13],[91,8,51,13],[91,15,51,13,"_ref3"],[91,20,51,13],[91,21,51,13,"apply"],[91,26,51,13],[91,33,51,13,"arguments"],[91,42,51,13],[92,6,51,13],[93,4,51,13],[93,7,68,3],[94,4,70,2],[94,8,70,8,"logout"],[94,14,70,14],[95,6,70,14],[95,10,70,14,"_ref4"],[95,15,70,14],[95,22,70,14,"_asyncToGenerator"],[95,39,70,14],[95,40,70,14,"default"],[95,47,70,14],[95,49,70,17],[95,62,70,29],[96,8,71,4],[96,14,71,10,"AsyncStorage"],[96,26,71,22],[96,27,71,22,"default"],[96,34,71,22],[96,35,71,23,"removeItem"],[96,45,71,33],[96,46,71,34],[96,53,71,41],[96,54,71,42],[97,8,72,4],[97,14,72,10,"AsyncStorage"],[97,26,72,22],[97,27,72,22,"default"],[97,34,72,22],[97,35,72,23,"removeItem"],[97,45,72,33],[97,46,72,34],[97,52,72,40],[97,53,72,41],[98,8,73,4,"setToken"],[98,16,73,12],[98,17,73,13],[98,21,73,17],[98,22,73,18],[99,8,74,4,"setUser"],[99,15,74,11],[99,16,74,12],[99,20,74,16],[99,21,74,17],[100,6,75,2],[100,7,75,3],[101,6,75,3],[101,22,70,8,"logout"],[101,28,70,14,"logout"],[101,29,70,14],[102,8,70,14],[102,15,70,14,"_ref4"],[102,20,70,14],[102,21,70,14,"apply"],[102,26,70,14],[102,33,70,14,"arguments"],[102,42,70,14],[103,6,70,14],[104,4,70,14],[104,7,75,3],[105,4,77,2],[105,24,78,4],[105,28,78,4,"_reactJsxRuntime"],[105,44,78,4],[105,45,78,4,"jsx"],[105,48,78,4],[105,50,78,5,"AuthContext"],[105,61,78,16],[105,62,78,17,"Provider"],[105,70,78,25],[106,6,78,26,"value"],[106,11,78,31],[106,13,78,33],[107,8,78,35,"user"],[107,12,78,39],[108,8,78,41,"token"],[108,13,78,46],[109,8,78,48,"login"],[109,13,78,53],[110,8,78,55,"logout"],[110,14,78,61],[111,8,78,63,"isLoading"],[112,6,78,73],[112,7,78,75],[113,6,78,75,"children"],[113,14,78,75],[113,16,79,7,"children"],[114,4,79,15],[114,5,80,26],[114,6,80,27],[115,2,82,0],[115,3,82,1],[116,2,84,7],[116,6,84,13,"useAuth"],[116,13,84,20],[116,16,84,23,"useAuth"],[116,17,84,23],[116,22,84,29],[117,4,85,2],[117,8,85,8,"context"],[117,15,85,15],[117,18,85,18],[117,22,85,18,"useContext"],[117,28,85,28],[117,29,85,28,"useContext"],[117,39,85,28],[117,41,85,29,"AuthContext"],[117,52,85,40],[117,53,85,41],[118,4,86,2],[118,8,86,6],[118,9,86,7,"context"],[118,16,86,14],[118,18,86,16],[119,6,87,4],[119,12,87,10],[119,16,87,14,"Error"],[119,21,87,19],[119,22,87,20],[119,64,87,62],[119,65,87,63],[120,4,88,2],[121,4,89,2],[121,11,89,9,"context"],[121,18,89,16],[122,2,90,0],[122,3,90,1],[123,0,90,2],[123,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}