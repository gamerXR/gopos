{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[4]);\n  var axios = _interopDefault(_axios);\n  var _reactJsxRuntime = require(_dependencyMap[5]);\n  // Backend URL with fallback for APK builds\n  var BACKEND_URL = \"https://resto-orders.preview.emergentagent.com\";\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var AuthProvider = _ref => {\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      token = _useState4[0],\n      setToken = _useState4[1];\n    var _useState5 = (0, _react.useState)(true),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    var loadStoredAuth = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var storedToken = yield AsyncStorage.default.getItem('token');\n          var storedUser = yield AsyncStorage.default.getItem('user');\n          if (storedToken && storedUser) {\n            setToken(storedToken);\n            setUser(JSON.parse(storedUser));\n          }\n        } catch (error) {\n          console.error('Error loading auth:', error);\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function loadStoredAuth() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var login = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (phone, password) {\n        try {\n          var response = yield axios.default.post(`${BACKEND_URL}/api/login`, {\n            phone,\n            password\n          });\n          var _response$data = response.data,\n            newToken = _response$data.token,\n            newUser = _response$data.user;\n          yield AsyncStorage.default.setItem('token', newToken);\n          yield AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n          setToken(newToken);\n          setUser(newUser);\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Login failed');\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.removeItem('token');\n        yield AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      });\n      return function logout() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    });\n  };\n  var useAuth = () => {\n    var context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":124,"map":[[12,2,27,0,"Object"],[12,8,27,0],[12,9,27,0,"defineProperty"],[12,23,27,0],[12,24,27,0,"exports"],[12,31,27,0],[13,4,27,0,"enumerable"],[13,14,27,0],[14,4,27,0,"get"],[14,7,27,0],[14,18,27,0,"get"],[14,19,27,0],[15,6,27,0],[15,13,27,0,"AuthProvider"],[15,25,27,0],[16,4,27,0],[17,2,27,0],[18,2,85,0,"Object"],[18,8,85,0],[18,9,85,0,"defineProperty"],[18,23,85,0],[18,24,85,0,"exports"],[18,31,85,0],[19,4,85,0,"enumerable"],[19,14,85,0],[20,4,85,0,"get"],[20,7,85,0],[20,18,85,0,"get"],[20,19,85,0],[21,6,85,0],[21,13,85,0,"useAuth"],[21,20,85,0],[22,4,85,0],[23,2,85,0],[24,2,91,2],[24,6,91,2,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,91,2],[24,45,91,2,"require"],[24,52,91,2],[24,53,91,2,"_dependencyMap"],[24,67,91,2],[25,2,91,2],[25,6,91,2,"_asyncToGenerator"],[25,23,91,2],[25,26,91,2,"_interopDefault"],[25,41,91,2],[25,42,91,2,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,91,2],[26,2,91,2],[26,6,91,2,"_babelRuntimeHelpersSlicedToArray"],[26,39,91,2],[26,42,91,2,"require"],[26,49,91,2],[26,50,91,2,"_dependencyMap"],[26,64,91,2],[27,2,91,2],[27,6,91,2,"_slicedToArray"],[27,20,91,2],[27,23,91,2,"_interopDefault"],[27,38,91,2],[27,39,91,2,"_babelRuntimeHelpersSlicedToArray"],[27,72,91,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxRuntime"],[33,22,3,26],[33,25,3,26,"require"],[33,32,3,26],[33,33,3,26,"_dependencyMap"],[33,47,3,26],[34,2,5,0],[35,2,6,0],[35,6,6,6,"BACKEND_URL"],[35,17,6,17],[35,68,6,110],[36,2,25,0],[36,6,25,6,"AuthContext"],[36,17,25,17],[36,33,25,20],[36,37,25,20,"createContext"],[36,43,25,33],[36,44,25,33,"createContext"],[36,57,25,33],[36,59,25,63,"undefined"],[36,68,25,72],[36,69,25,73],[37,2,27,7],[37,6,27,13,"AuthProvider"],[37,18,27,66],[37,21,27,69,"_ref"],[37,25,27,69],[37,29,27,87],[38,4,27,87],[38,8,27,72,"children"],[38,16,27,80],[38,19,27,80,"_ref"],[38,23,27,80],[38,24,27,72,"children"],[38,32,27,80],[39,4,28,2],[39,8,28,2,"_useState"],[39,17,28,2],[39,20,28,26],[39,24,28,26,"useState"],[39,30,28,34],[39,31,28,34,"useState"],[39,39,28,34],[39,41,28,48],[39,45,28,52],[39,46,28,53],[40,6,28,53,"_useState2"],[40,16,28,53],[40,23,28,53,"_slicedToArray"],[40,37,28,53],[40,38,28,53,"default"],[40,45,28,53],[40,47,28,53,"_useState"],[40,56,28,53],[41,6,28,9,"user"],[41,10,28,13],[41,13,28,13,"_useState2"],[41,23,28,13],[42,6,28,15,"setUser"],[42,13,28,22],[42,16,28,22,"_useState2"],[42,26,28,22],[43,4,29,2],[43,8,29,2,"_useState3"],[43,18,29,2],[43,21,29,28],[43,25,29,28,"useState"],[43,31,29,36],[43,32,29,36,"useState"],[43,40,29,36],[43,42,29,52],[43,46,29,56],[43,47,29,57],[44,6,29,57,"_useState4"],[44,16,29,57],[44,23,29,57,"_slicedToArray"],[44,37,29,57],[44,38,29,57,"default"],[44,45,29,57],[44,47,29,57,"_useState3"],[44,57,29,57],[45,6,29,9,"token"],[45,11,29,14],[45,14,29,14,"_useState4"],[45,24,29,14],[46,6,29,16,"setToken"],[46,14,29,24],[46,17,29,24,"_useState4"],[46,27,29,24],[47,4,30,2],[47,8,30,2,"_useState5"],[47,18,30,2],[47,21,30,36],[47,25,30,36,"useState"],[47,31,30,44],[47,32,30,44,"useState"],[47,40,30,44],[47,42,30,45],[47,46,30,49],[47,47,30,50],[48,6,30,50,"_useState6"],[48,16,30,50],[48,23,30,50,"_slicedToArray"],[48,37,30,50],[48,38,30,50,"default"],[48,45,30,50],[48,47,30,50,"_useState5"],[48,57,30,50],[49,6,30,9,"isLoading"],[49,15,30,18],[49,18,30,18,"_useState6"],[49,28,30,18],[50,6,30,20,"setIsLoading"],[50,18,30,32],[50,21,30,32,"_useState6"],[50,31,30,32],[51,4,32,2],[51,8,32,2,"useEffect"],[51,14,32,11],[51,15,32,11,"useEffect"],[51,24,32,11],[51,26,32,12],[51,32,32,18],[52,6,33,4,"loadStoredAuth"],[52,20,33,18],[52,21,33,19],[52,22,33,20],[53,4,34,2],[53,5,34,3],[53,7,34,5],[53,9,34,7],[53,10,34,8],[54,4,36,2],[54,8,36,8,"loadStoredAuth"],[54,22,36,22],[55,6,36,22],[55,10,36,22,"_ref2"],[55,15,36,22],[55,22,36,22,"_asyncToGenerator"],[55,39,36,22],[55,40,36,22,"default"],[55,47,36,22],[55,49,36,25],[55,62,36,37],[56,8,37,4],[56,12,37,8],[57,10,38,6],[57,14,38,12,"storedToken"],[57,25,38,23],[57,34,38,32,"AsyncStorage"],[57,46,38,44],[57,47,38,44,"default"],[57,54,38,44],[57,55,38,45,"getItem"],[57,62,38,52],[57,63,38,53],[57,70,38,60],[57,71,38,61],[58,10,39,6],[58,14,39,12,"storedUser"],[58,24,39,22],[58,33,39,31,"AsyncStorage"],[58,45,39,43],[58,46,39,43,"default"],[58,53,39,43],[58,54,39,44,"getItem"],[58,61,39,51],[58,62,39,52],[58,68,39,58],[58,69,39,59],[59,10,41,6],[59,14,41,10,"storedToken"],[59,25,41,21],[59,29,41,25,"storedUser"],[59,39,41,35],[59,41,41,37],[60,12,42,8,"setToken"],[60,20,42,16],[60,21,42,17,"storedToken"],[60,32,42,28],[60,33,42,29],[61,12,43,8,"setUser"],[61,19,43,15],[61,20,43,16,"JSON"],[61,24,43,20],[61,25,43,21,"parse"],[61,30,43,26],[61,31,43,27,"storedUser"],[61,41,43,37],[61,42,43,38],[61,43,43,39],[62,10,44,6],[63,8,45,4],[63,9,45,5],[63,10,45,6],[63,17,45,13,"error"],[63,22,45,18],[63,24,45,20],[64,10,46,6,"console"],[64,17,46,13],[64,18,46,14,"error"],[64,23,46,19],[64,24,46,20],[64,45,46,41],[64,47,46,43,"error"],[64,52,46,48],[64,53,46,49],[65,8,47,4],[65,9,47,5],[65,18,47,14],[66,10,48,6,"setIsLoading"],[66,22,48,18],[66,23,48,19],[66,28,48,24],[66,29,48,25],[67,8,49,4],[68,6,50,2],[68,7,50,3],[69,6,50,3],[69,22,36,8,"loadStoredAuth"],[69,36,36,22,"loadStoredAuth"],[69,37,36,22],[70,8,36,22],[70,15,36,22,"_ref2"],[70,20,36,22],[70,21,36,22,"apply"],[70,26,36,22],[70,33,36,22,"arguments"],[70,42,36,22],[71,6,36,22],[72,4,36,22],[72,7,50,3],[73,4,52,2],[73,8,52,8,"login"],[73,13,52,13],[74,6,52,13],[74,10,52,13,"_ref3"],[74,15,52,13],[74,22,52,13,"_asyncToGenerator"],[74,39,52,13],[74,40,52,13,"default"],[74,47,52,13],[74,49,52,16],[74,60,52,23,"phone"],[74,65,52,36],[74,67,52,38,"password"],[74,75,52,54],[74,77,52,59],[75,8,53,4],[75,12,53,8],[76,10,54,6],[76,14,54,12,"response"],[76,22,54,20],[76,31,54,29,"axios"],[76,36,54,34],[76,37,54,34,"default"],[76,44,54,34],[76,45,54,35,"post"],[76,49,54,39],[76,50,54,40],[76,53,54,43,"BACKEND_URL"],[76,64,54,54],[76,76,54,66],[76,78,54,68],[77,12,55,8,"phone"],[77,17,55,13],[78,12,56,8,"password"],[79,10,57,6],[79,11,57,7],[79,12,57,8],[80,10,59,6],[80,14,59,6,"_response$data"],[80,28,59,6],[80,31,59,49,"response"],[80,39,59,57],[80,40,59,58,"data"],[80,44,59,62],[81,12,59,21,"newToken"],[81,20,59,29],[81,23,59,29,"_response$data"],[81,37,59,29],[81,38,59,14,"token"],[81,43,59,19],[82,12,59,37,"newUser"],[82,19,59,44],[82,22,59,44,"_response$data"],[82,36,59,44],[82,37,59,31,"user"],[82,41,59,35],[83,10,61,6],[83,16,61,12,"AsyncStorage"],[83,28,61,24],[83,29,61,24,"default"],[83,36,61,24],[83,37,61,25,"setItem"],[83,44,61,32],[83,45,61,33],[83,52,61,40],[83,54,61,42,"newToken"],[83,62,61,50],[83,63,61,51],[84,10,62,6],[84,16,62,12,"AsyncStorage"],[84,28,62,24],[84,29,62,24,"default"],[84,36,62,24],[84,37,62,25,"setItem"],[84,44,62,32],[84,45,62,33],[84,51,62,39],[84,53,62,41,"JSON"],[84,57,62,45],[84,58,62,46,"stringify"],[84,67,62,55],[84,68,62,56,"newUser"],[84,75,62,63],[84,76,62,64],[84,77,62,65],[85,10,64,6,"setToken"],[85,18,64,14],[85,19,64,15,"newToken"],[85,27,64,23],[85,28,64,24],[86,10,65,6,"setUser"],[86,17,65,13],[86,18,65,14,"newUser"],[86,25,65,21],[86,26,65,22],[87,8,66,4],[87,9,66,5],[87,10,66,6],[87,17,66,13,"error"],[87,22,66,23],[87,24,66,25],[88,10,67,6],[88,16,67,12],[88,20,67,16,"Error"],[88,25,67,21],[88,26,67,22,"error"],[88,31,67,27],[88,32,67,28,"response"],[88,40,67,36],[88,42,67,38,"data"],[88,46,67,42],[88,48,67,44,"detail"],[88,54,67,50],[88,58,67,54],[88,72,67,68],[88,73,67,69],[89,8,68,4],[90,6,69,2],[90,7,69,3],[91,6,69,3],[91,22,52,8,"login"],[91,27,52,13,"login"],[91,28,52,13,"_x"],[91,30,52,13],[91,32,52,13,"_x2"],[91,35,52,13],[92,8,52,13],[92,15,52,13,"_ref3"],[92,20,52,13],[92,21,52,13,"apply"],[92,26,52,13],[92,33,52,13,"arguments"],[92,42,52,13],[93,6,52,13],[94,4,52,13],[94,7,69,3],[95,4,71,2],[95,8,71,8,"logout"],[95,14,71,14],[96,6,71,14],[96,10,71,14,"_ref4"],[96,15,71,14],[96,22,71,14,"_asyncToGenerator"],[96,39,71,14],[96,40,71,14,"default"],[96,47,71,14],[96,49,71,17],[96,62,71,29],[97,8,72,4],[97,14,72,10,"AsyncStorage"],[97,26,72,22],[97,27,72,22,"default"],[97,34,72,22],[97,35,72,23,"removeItem"],[97,45,72,33],[97,46,72,34],[97,53,72,41],[97,54,72,42],[98,8,73,4],[98,14,73,10,"AsyncStorage"],[98,26,73,22],[98,27,73,22,"default"],[98,34,73,22],[98,35,73,23,"removeItem"],[98,45,73,33],[98,46,73,34],[98,52,73,40],[98,53,73,41],[99,8,74,4,"setToken"],[99,16,74,12],[99,17,74,13],[99,21,74,17],[99,22,74,18],[100,8,75,4,"setUser"],[100,15,75,11],[100,16,75,12],[100,20,75,16],[100,21,75,17],[101,6,76,2],[101,7,76,3],[102,6,76,3],[102,22,71,8,"logout"],[102,28,71,14,"logout"],[102,29,71,14],[103,8,71,14],[103,15,71,14,"_ref4"],[103,20,71,14],[103,21,71,14,"apply"],[103,26,71,14],[103,33,71,14,"arguments"],[103,42,71,14],[104,6,71,14],[105,4,71,14],[105,7,76,3],[106,4,78,2],[106,24,79,4],[106,28,79,4,"_reactJsxRuntime"],[106,44,79,4],[106,45,79,4,"jsx"],[106,48,79,4],[106,50,79,5,"AuthContext"],[106,61,79,16],[106,62,79,17,"Provider"],[106,70,79,25],[107,6,79,26,"value"],[107,11,79,31],[107,13,79,33],[108,8,79,35,"user"],[108,12,79,39],[109,8,79,41,"token"],[109,13,79,46],[110,8,79,48,"login"],[110,13,79,53],[111,8,79,55,"logout"],[111,14,79,61],[112,8,79,63,"isLoading"],[113,6,79,73],[113,7,79,75],[114,6,79,75,"children"],[114,14,79,75],[114,16,80,7,"children"],[115,4,80,15],[115,5,81,26],[115,6,81,27],[116,2,83,0],[116,3,83,1],[117,2,85,7],[117,6,85,13,"useAuth"],[117,13,85,20],[117,16,85,23,"useAuth"],[117,17,85,23],[117,22,85,29],[118,4,86,2],[118,8,86,8,"context"],[118,15,86,15],[118,18,86,18],[118,22,86,18,"useContext"],[118,28,86,28],[118,29,86,28,"useContext"],[118,39,86,28],[118,41,86,29,"AuthContext"],[118,52,86,40],[118,53,86,41],[119,4,87,2],[119,8,87,6],[119,9,87,7,"context"],[119,16,87,14],[119,18,87,16],[120,6,88,4],[120,12,88,10],[120,16,88,14,"Error"],[120,21,88,19],[120,22,88,20],[120,64,88,62],[120,65,88,63],[121,4,89,2],[122,4,90,2],[122,11,90,9,"context"],[122,18,90,16],[123,2,91,0],[123,3,91,1],[124,0,91,2],[124,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qEC0B;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}