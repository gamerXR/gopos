{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\"; // Backend URL - MUST be set via environment variables\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  if (!BACKEND_URL) {\n    throw new Error('EXPO_PUBLIC_BACKEND_URL environment variable is required');\n  }\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (phone, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/login`, {\n          phone,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":105,"map":[[4,62,5,0],[5,2,5,0,"Object"],[5,8,5,0],[5,9,5,0,"defineProperty"],[5,23,5,0],[5,24,5,0,"exports"],[5,31,5,0],[6,4,5,0,"value"],[6,9,5,0],[7,2,5,0],[8,2,5,0],[8,11,5,0,"_interopDefault"],[8,27,5,0,"e"],[8,28,5,0],[9,4,5,0],[9,11,5,0,"e"],[9,12,5,0],[9,16,5,0,"e"],[9,17,5,0],[9,18,5,0,"__esModule"],[9,28,5,0],[9,31,5,0,"e"],[9,32,5,0],[10,6,5,0,"default"],[10,13,5,0],[10,15,5,0,"e"],[11,4,5,0],[12,2,5,0],[13,2,31,0,"Object"],[13,8,31,0],[13,9,31,0,"defineProperty"],[13,23,31,0],[13,24,31,0,"exports"],[13,31,31,0],[14,4,31,0,"enumerable"],[14,14,31,0],[15,4,31,0,"get"],[15,7,31,0],[15,18,31,0,"get"],[15,19,31,0],[16,6,31,0],[16,13,31,0,"AuthProvider"],[16,25,31,0],[17,4,31,0],[18,2,31,0],[19,2,89,0,"Object"],[19,8,89,0],[19,9,89,0,"defineProperty"],[19,23,89,0],[19,24,89,0,"exports"],[19,31,89,0],[20,4,89,0,"enumerable"],[20,14,89,0],[21,4,89,0,"get"],[21,7,89,0],[21,18,89,0,"get"],[21,19,89,0],[22,6,89,0],[22,13,89,0,"useAuth"],[22,20,89,0],[23,4,89,0],[24,2,89,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,6,0],[31,8,6,6,"BACKEND_URL"],[31,19,6,17],[31,22,6,20,"process"],[31,29,6,27],[31,30,6,28,"env"],[31,33,6,31],[31,34,6,32,"EXPO_PUBLIC_BACKEND_URL"],[31,57,6,55],[32,2,8,0],[32,6,8,4],[32,7,8,5,"BACKEND_URL"],[32,18,8,16],[32,20,8,18],[33,4,9,2],[33,10,9,8],[33,14,9,12,"Error"],[33,19,9,17],[33,20,9,18],[33,78,9,76],[33,79,9,77],[34,2,10,0],[35,2,29,0],[35,8,29,6,"AuthContext"],[35,19,29,17],[35,35,29,20],[35,39,29,20,"createContext"],[35,45,29,33],[35,46,29,33,"createContext"],[35,59,29,33],[35,61,29,63,"undefined"],[35,70,29,72],[35,71,29,73],[36,2,31,7],[36,8,31,13,"AuthProvider"],[36,20,31,66],[36,23,31,69,"AuthProvider"],[36,24,31,70],[37,4,31,72,"children"],[38,2,31,81],[38,3,31,82],[38,8,31,87],[39,4,32,2],[39,10,32,8],[39,11,32,9,"user"],[39,15,32,13],[39,17,32,15,"setUser"],[39,24,32,22],[39,25,32,23],[39,28,32,26],[39,32,32,26,"useState"],[39,38,32,34],[39,39,32,34,"useState"],[39,47,32,34],[39,49,32,48],[39,53,32,52],[39,54,32,53],[40,4,33,2],[40,10,33,8],[40,11,33,9,"token"],[40,16,33,14],[40,18,33,16,"setToken"],[40,26,33,24],[40,27,33,25],[40,30,33,28],[40,34,33,28,"useState"],[40,40,33,36],[40,41,33,36,"useState"],[40,49,33,36],[40,51,33,52],[40,55,33,56],[40,56,33,57],[41,4,34,2],[41,10,34,8],[41,11,34,9,"isLoading"],[41,20,34,18],[41,22,34,20,"setIsLoading"],[41,34,34,32],[41,35,34,33],[41,38,34,36],[41,42,34,36,"useState"],[41,48,34,44],[41,49,34,44,"useState"],[41,57,34,44],[41,59,34,45],[41,63,34,49],[41,64,34,50],[42,4,36,2],[42,8,36,2,"useEffect"],[42,14,36,11],[42,15,36,11,"useEffect"],[42,24,36,11],[42,26,36,12],[42,32,36,18],[43,6,37,4,"loadStoredAuth"],[43,20,37,18],[43,21,37,19],[43,22,37,20],[44,4,38,2],[44,5,38,3],[44,7,38,5],[44,9,38,7],[44,10,38,8],[45,4,40,2],[45,10,40,8,"loadStoredAuth"],[45,24,40,22],[45,27,40,25],[45,33,40,25,"loadStoredAuth"],[45,34,40,25],[45,39,40,37],[46,6,41,4],[46,10,41,8],[47,8,42,6],[47,14,42,12,"storedToken"],[47,25,42,23],[47,28,42,26],[47,34,42,32,"AsyncStorage"],[47,46,42,44],[47,47,42,44,"default"],[47,54,42,44],[47,55,42,45,"getItem"],[47,62,42,52],[47,63,42,53],[47,70,42,60],[47,71,42,61],[48,8,43,6],[48,14,43,12,"storedUser"],[48,24,43,22],[48,27,43,25],[48,33,43,31,"AsyncStorage"],[48,45,43,43],[48,46,43,43,"default"],[48,53,43,43],[48,54,43,44,"getItem"],[48,61,43,51],[48,62,43,52],[48,68,43,58],[48,69,43,59],[49,8,45,6],[49,12,45,10,"storedToken"],[49,23,45,21],[49,27,45,25,"storedUser"],[49,37,45,35],[49,39,45,37],[50,10,46,8,"setToken"],[50,18,46,16],[50,19,46,17,"storedToken"],[50,30,46,28],[50,31,46,29],[51,10,47,8,"setUser"],[51,17,47,15],[51,18,47,16,"JSON"],[51,22,47,20],[51,23,47,21,"parse"],[51,28,47,26],[51,29,47,27,"storedUser"],[51,39,47,37],[51,40,47,38],[51,41,47,39],[52,8,48,6],[53,6,49,4],[53,7,49,5],[53,8,49,6],[53,15,49,13,"error"],[53,20,49,18],[53,22,49,20],[54,8,50,6,"console"],[54,15,50,13],[54,16,50,14,"error"],[54,21,50,19],[54,22,50,20],[54,43,50,41],[54,45,50,43,"error"],[54,50,50,48],[54,51,50,49],[55,6,51,4],[55,7,51,5],[55,16,51,14],[56,8,52,6,"setIsLoading"],[56,20,52,18],[56,21,52,19],[56,26,52,24],[56,27,52,25],[57,6,53,4],[58,4,54,2],[58,5,54,3],[59,4,56,2],[59,10,56,8,"login"],[59,15,56,13],[59,18,56,16],[59,24,56,16,"login"],[59,25,56,23,"phone"],[59,30,56,36],[59,32,56,38,"password"],[59,40,56,54],[59,45,56,59],[60,6,57,4],[60,10,57,8],[61,8,58,6],[61,14,58,12,"response"],[61,22,58,20],[61,25,58,23],[61,31,58,29,"axios"],[61,36,58,34],[61,37,58,34,"default"],[61,44,58,34],[61,45,58,35,"post"],[61,49,58,39],[61,50,58,40],[61,53,58,43,"BACKEND_URL"],[61,64,58,54],[61,76,58,66],[61,78,58,68],[62,10,59,8,"phone"],[62,15,59,13],[63,10,60,8,"password"],[64,8,61,6],[64,9,61,7],[64,10,61,8],[65,8,63,6],[65,14,63,12],[66,10,63,14,"token"],[66,15,63,19],[66,17,63,21,"newToken"],[66,25,63,29],[67,10,63,31,"user"],[67,14,63,35],[67,16,63,37,"newUser"],[68,8,63,45],[68,9,63,46],[68,12,63,49,"response"],[68,20,63,57],[68,21,63,58,"data"],[68,25,63,62],[69,8,65,6],[69,14,65,12,"AsyncStorage"],[69,26,65,24],[69,27,65,24,"default"],[69,34,65,24],[69,35,65,25,"setItem"],[69,42,65,32],[69,43,65,33],[69,50,65,40],[69,52,65,42,"newToken"],[69,60,65,50],[69,61,65,51],[70,8,66,6],[70,14,66,12,"AsyncStorage"],[70,26,66,24],[70,27,66,24,"default"],[70,34,66,24],[70,35,66,25,"setItem"],[70,42,66,32],[70,43,66,33],[70,49,66,39],[70,51,66,41,"JSON"],[70,55,66,45],[70,56,66,46,"stringify"],[70,65,66,55],[70,66,66,56,"newUser"],[70,73,66,63],[70,74,66,64],[70,75,66,65],[71,8,68,6,"setToken"],[71,16,68,14],[71,17,68,15,"newToken"],[71,25,68,23],[71,26,68,24],[72,8,69,6,"setUser"],[72,15,69,13],[72,16,69,14,"newUser"],[72,23,69,21],[72,24,69,22],[73,6,70,4],[73,7,70,5],[73,8,70,6],[73,15,70,13,"error"],[73,20,70,23],[73,22,70,25],[74,8,71,6],[74,14,71,12],[74,18,71,16,"Error"],[74,23,71,21],[74,24,71,22,"error"],[74,29,71,27],[74,30,71,28,"response"],[74,38,71,36],[74,40,71,38,"data"],[74,44,71,42],[74,46,71,44,"detail"],[74,52,71,50],[74,56,71,54],[74,70,71,68],[74,71,71,69],[75,6,72,4],[76,4,73,2],[76,5,73,3],[77,4,75,2],[77,10,75,8,"logout"],[77,16,75,14],[77,19,75,17],[77,25,75,17,"logout"],[77,26,75,17],[77,31,75,29],[78,6,76,4],[78,12,76,10,"AsyncStorage"],[78,24,76,22],[78,25,76,22,"default"],[78,32,76,22],[78,33,76,23,"removeItem"],[78,43,76,33],[78,44,76,34],[78,51,76,41],[78,52,76,42],[79,6,77,4],[79,12,77,10,"AsyncStorage"],[79,24,77,22],[79,25,77,22,"default"],[79,32,77,22],[79,33,77,23,"removeItem"],[79,43,77,33],[79,44,77,34],[79,50,77,40],[79,51,77,41],[80,6,78,4,"setToken"],[80,14,78,12],[80,15,78,13],[80,19,78,17],[80,20,78,18],[81,6,79,4,"setUser"],[81,13,79,11],[81,14,79,12],[81,18,79,16],[81,19,79,17],[82,4,80,2],[82,5,80,3],[83,4,82,2],[83,24,83,4],[83,28,83,4,"_reactJsxDevRuntime"],[83,47,83,4],[83,48,83,4,"jsxDEV"],[83,54,83,4],[83,56,83,5,"AuthContext"],[83,67,83,16],[83,68,83,17,"Provider"],[83,76,83,25],[84,6,83,26,"value"],[84,11,83,31],[84,13,83,33],[85,8,83,35,"user"],[85,12,83,39],[86,8,83,41,"token"],[86,13,83,46],[87,8,83,48,"login"],[87,13,83,53],[88,8,83,55,"logout"],[88,14,83,61],[89,8,83,63,"isLoading"],[90,6,83,73],[90,7,83,75],[91,6,83,75,"children"],[91,14,83,75],[91,16,84,7,"children"],[92,4,84,15],[93,6,84,15,"fileName"],[93,14,84,15],[93,16,84,15,"_jsxFileName"],[93,28,84,15],[94,6,84,15,"lineNumber"],[94,16,84,15],[95,6,84,15,"columnNumber"],[95,18,84,15],[96,4,84,15],[96,11,85,26],[96,12,85,27],[97,2,87,0],[97,3,87,1],[98,2,89,7],[98,8,89,13,"useAuth"],[98,15,89,20],[98,18,89,23,"useAuth"],[98,19,89,23],[98,24,89,29],[99,4,90,2],[99,10,90,8,"context"],[99,17,90,15],[99,20,90,18],[99,24,90,18,"useContext"],[99,30,90,28],[99,31,90,28,"useContext"],[99,41,90,28],[99,43,90,29,"AuthContext"],[99,54,90,40],[99,55,90,41],[100,4,91,2],[100,8,91,6],[100,9,91,7,"context"],[100,16,91,14],[100,18,91,16],[101,6,92,4],[101,12,92,10],[101,16,92,14,"Error"],[101,21,92,19],[101,22,92,20],[101,64,92,62],[101,65,92,63],[102,4,93,2],[103,4,94,2],[103,11,94,9,"context"],[103,18,94,16],[104,2,95,0],[104,3,95,1],[105,0,95,2],[105,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qEC8B;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}