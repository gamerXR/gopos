{"dependencies":[{"name":"nanoid/non-secure","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":43,"index":58}}],"key":"aLLVXWB8QP15fri3afEUab9H+Os="}},{"name":"./TabRouter.js","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":59},"end":{"line":4,"column":55,"index":114}}],"key":"e16MeEh8aNlODwQy9VKjK55XqT8="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DrawerActions = void 0;\n  exports.DrawerRouter = DrawerRouter;\n  var _nonSecure = require(_dependencyMap[0], \"nanoid/non-secure\");\n  var _TabRouter = require(_dependencyMap[1], \"./TabRouter.js\");\n  const DrawerActions = exports.DrawerActions = {\n    ..._TabRouter.TabActions,\n    openDrawer() {\n      return {\n        type: 'OPEN_DRAWER'\n      };\n    },\n    closeDrawer() {\n      return {\n        type: 'CLOSE_DRAWER'\n      };\n    },\n    toggleDrawer() {\n      return {\n        type: 'TOGGLE_DRAWER'\n      };\n    }\n  };\n  function DrawerRouter(_ref) {\n    let {\n      defaultStatus = 'closed',\n      ...rest\n    } = _ref;\n    const router = (0, _TabRouter.TabRouter)(rest);\n    const isDrawerInHistory = state => Boolean(state.history?.some(it => it.type === 'drawer'));\n    const addDrawerToHistory = state => {\n      if (isDrawerInHistory(state)) {\n        return state;\n      }\n      return {\n        ...state,\n        history: [...state.history, {\n          type: 'drawer',\n          status: defaultStatus === 'open' ? 'closed' : 'open'\n        }]\n      };\n    };\n    const removeDrawerFromHistory = state => {\n      if (!isDrawerInHistory(state)) {\n        return state;\n      }\n      return {\n        ...state,\n        history: state.history.filter(it => it.type !== 'drawer')\n      };\n    };\n    const openDrawer = state => {\n      if (defaultStatus === 'open') {\n        return removeDrawerFromHistory(state);\n      }\n      return addDrawerToHistory(state);\n    };\n    const closeDrawer = state => {\n      if (defaultStatus === 'open') {\n        return addDrawerToHistory(state);\n      }\n      return removeDrawerFromHistory(state);\n    };\n    return {\n      ...router,\n      type: 'drawer',\n      getInitialState(_ref2) {\n        let {\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        } = _ref2;\n        const state = router.getInitialState({\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        });\n        return {\n          ...state,\n          default: defaultStatus,\n          stale: false,\n          type: 'drawer',\n          key: `drawer-${(0, _nonSecure.nanoid)()}`\n        };\n      },\n      getRehydratedState(partialState, _ref3) {\n        let {\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        } = _ref3;\n        if (partialState.stale === false) {\n          return partialState;\n        }\n        let state = router.getRehydratedState(partialState, {\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        });\n        if (isDrawerInHistory(partialState)) {\n          // Re-sync the drawer entry in history to correct it if it was wrong\n          state = removeDrawerFromHistory(state);\n          state = addDrawerToHistory(state);\n        }\n        return {\n          ...state,\n          default: defaultStatus,\n          type: 'drawer',\n          key: `drawer-${(0, _nonSecure.nanoid)()}`\n        };\n      },\n      getStateForRouteFocus(state, key) {\n        const result = router.getStateForRouteFocus(state, key);\n        return closeDrawer(result);\n      },\n      getStateForAction(state, action, options) {\n        switch (action.type) {\n          case 'OPEN_DRAWER':\n            return openDrawer(state);\n          case 'CLOSE_DRAWER':\n            return closeDrawer(state);\n          case 'TOGGLE_DRAWER':\n            if (isDrawerInHistory(state)) {\n              return removeDrawerFromHistory(state);\n            }\n            return addDrawerToHistory(state);\n          case 'JUMP_TO':\n          case 'NAVIGATE':\n          case 'NAVIGATE_DEPRECATED':\n            {\n              const result = router.getStateForAction(state, action, options);\n              if (result != null && result.index !== state.index) {\n                return closeDrawer(result);\n              }\n              return result;\n            }\n          case 'GO_BACK':\n            if (isDrawerInHistory(state)) {\n              return removeDrawerFromHistory(state);\n            }\n            return router.getStateForAction(state, action, options);\n          default:\n            return router.getStateForAction(state, action, options);\n        }\n      },\n      actionCreators: DrawerActions\n    };\n  }\n});","lineCount":154,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"DrawerActions"],[7,23,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"DrawerRouter"],[8,22,1,13],[8,25,1,13,"DrawerRouter"],[8,37,1,13],[9,2,3,0],[9,6,3,0,"_nonSecure"],[9,16,3,0],[9,19,3,0,"require"],[9,26,3,0],[9,27,3,0,"_dependencyMap"],[9,41,3,0],[10,2,4,0],[10,6,4,0,"_TabRouter"],[10,16,4,0],[10,19,4,0,"require"],[10,26,4,0],[10,27,4,0,"_dependencyMap"],[10,41,4,0],[11,2,5,7],[11,8,5,13,"DrawerActions"],[11,21,5,26],[11,24,5,26,"exports"],[11,31,5,26],[11,32,5,26,"DrawerActions"],[11,45,5,26],[11,48,5,29],[12,4,6,2],[12,7,6,5,"TabActions"],[12,28,6,15],[13,4,7,2,"openDrawer"],[13,14,7,12,"openDrawer"],[13,15,7,12],[13,17,7,15],[14,6,8,4],[14,13,8,11],[15,8,9,6,"type"],[15,12,9,10],[15,14,9,12],[16,6,10,4],[16,7,10,5],[17,4,11,2],[17,5,11,3],[18,4,12,2,"closeDrawer"],[18,15,12,13,"closeDrawer"],[18,16,12,13],[18,18,12,16],[19,6,13,4],[19,13,13,11],[20,8,14,6,"type"],[20,12,14,10],[20,14,14,12],[21,6,15,4],[21,7,15,5],[22,4,16,2],[22,5,16,3],[23,4,17,2,"toggleDrawer"],[23,16,17,14,"toggleDrawer"],[23,17,17,14],[23,19,17,17],[24,6,18,4],[24,13,18,11],[25,8,19,6,"type"],[25,12,19,10],[25,14,19,12],[26,6,20,4],[26,7,20,5],[27,4,21,2],[28,2,22,0],[28,3,22,1],[29,2,23,7],[29,11,23,16,"DrawerRouter"],[29,23,23,28,"DrawerRouter"],[29,24,23,28,"_ref"],[29,28,23,28],[29,30,26,3],[30,4,26,3],[30,8,23,29],[31,6,24,2,"defaultStatus"],[31,19,24,15],[31,22,24,18],[31,30,24,26],[32,6,25,2],[32,9,25,5,"rest"],[33,4,26,0],[33,5,26,1],[33,8,26,1,"_ref"],[33,12,26,1],[34,4,27,2],[34,10,27,8,"router"],[34,16,27,14],[34,19,27,17],[34,23,27,17,"TabRouter"],[34,43,27,26],[34,45,27,27,"rest"],[34,49,27,31],[34,50,27,32],[35,4,28,2],[35,10,28,8,"isDrawerInHistory"],[35,27,28,25],[35,30,28,28,"state"],[35,35,28,33],[35,39,28,37,"Boolean"],[35,46,28,44],[35,47,28,45,"state"],[35,52,28,50],[35,53,28,51,"history"],[35,60,28,58],[35,62,28,60,"some"],[35,66,28,64],[35,67,28,65,"it"],[35,69,28,67],[35,73,28,71,"it"],[35,75,28,73],[35,76,28,74,"type"],[35,80,28,78],[35,85,28,83],[35,93,28,91],[35,94,28,92],[35,95,28,93],[36,4,29,2],[36,10,29,8,"addDrawerToHistory"],[36,28,29,26],[36,31,29,29,"state"],[36,36,29,34],[36,40,29,38],[37,6,30,4],[37,10,30,8,"isDrawerInHistory"],[37,27,30,25],[37,28,30,26,"state"],[37,33,30,31],[37,34,30,32],[37,36,30,34],[38,8,31,6],[38,15,31,13,"state"],[38,20,31,18],[39,6,32,4],[40,6,33,4],[40,13,33,11],[41,8,34,6],[41,11,34,9,"state"],[41,16,34,14],[42,8,35,6,"history"],[42,15,35,13],[42,17,35,15],[42,18,35,16],[42,21,35,19,"state"],[42,26,35,24],[42,27,35,25,"history"],[42,34,35,32],[42,36,35,34],[43,10,36,8,"type"],[43,14,36,12],[43,16,36,14],[43,24,36,22],[44,10,37,8,"status"],[44,16,37,14],[44,18,37,16,"defaultStatus"],[44,31,37,29],[44,36,37,34],[44,42,37,40],[44,45,37,43],[44,53,37,51],[44,56,37,54],[45,8,38,6],[45,9,38,7],[46,6,39,4],[46,7,39,5],[47,4,40,2],[47,5,40,3],[48,4,41,2],[48,10,41,8,"removeDrawerFromHistory"],[48,33,41,31],[48,36,41,34,"state"],[48,41,41,39],[48,45,41,43],[49,6,42,4],[49,10,42,8],[49,11,42,9,"isDrawerInHistory"],[49,28,42,26],[49,29,42,27,"state"],[49,34,42,32],[49,35,42,33],[49,37,42,35],[50,8,43,6],[50,15,43,13,"state"],[50,20,43,18],[51,6,44,4],[52,6,45,4],[52,13,45,11],[53,8,46,6],[53,11,46,9,"state"],[53,16,46,14],[54,8,47,6,"history"],[54,15,47,13],[54,17,47,15,"state"],[54,22,47,20],[54,23,47,21,"history"],[54,30,47,28],[54,31,47,29,"filter"],[54,37,47,35],[54,38,47,36,"it"],[54,40,47,38],[54,44,47,42,"it"],[54,46,47,44],[54,47,47,45,"type"],[54,51,47,49],[54,56,47,54],[54,64,47,62],[55,6,48,4],[55,7,48,5],[56,4,49,2],[56,5,49,3],[57,4,50,2],[57,10,50,8,"openDrawer"],[57,20,50,18],[57,23,50,21,"state"],[57,28,50,26],[57,32,50,30],[58,6,51,4],[58,10,51,8,"defaultStatus"],[58,23,51,21],[58,28,51,26],[58,34,51,32],[58,36,51,34],[59,8,52,6],[59,15,52,13,"removeDrawerFromHistory"],[59,38,52,36],[59,39,52,37,"state"],[59,44,52,42],[59,45,52,43],[60,6,53,4],[61,6,54,4],[61,13,54,11,"addDrawerToHistory"],[61,31,54,29],[61,32,54,30,"state"],[61,37,54,35],[61,38,54,36],[62,4,55,2],[62,5,55,3],[63,4,56,2],[63,10,56,8,"closeDrawer"],[63,21,56,19],[63,24,56,22,"state"],[63,29,56,27],[63,33,56,31],[64,6,57,4],[64,10,57,8,"defaultStatus"],[64,23,57,21],[64,28,57,26],[64,34,57,32],[64,36,57,34],[65,8,58,6],[65,15,58,13,"addDrawerToHistory"],[65,33,58,31],[65,34,58,32,"state"],[65,39,58,37],[65,40,58,38],[66,6,59,4],[67,6,60,4],[67,13,60,11,"removeDrawerFromHistory"],[67,36,60,34],[67,37,60,35,"state"],[67,42,60,40],[67,43,60,41],[68,4,61,2],[68,5,61,3],[69,4,62,2],[69,11,62,9],[70,6,63,4],[70,9,63,7,"router"],[70,15,63,13],[71,6,64,4,"type"],[71,10,64,8],[71,12,64,10],[71,20,64,18],[72,6,65,4,"getInitialState"],[72,21,65,19,"getInitialState"],[72,22,65,19,"_ref2"],[72,27,65,19],[72,29,69,7],[73,8,69,7],[73,12,65,20],[74,10,66,6,"routeNames"],[74,20,66,16],[75,10,67,6,"routeParamList"],[75,24,67,20],[76,10,68,6,"routeGetIdList"],[77,8,69,4],[77,9,69,5],[77,12,69,5,"_ref2"],[77,17,69,5],[78,8,70,6],[78,14,70,12,"state"],[78,19,70,17],[78,22,70,20,"router"],[78,28,70,26],[78,29,70,27,"getInitialState"],[78,44,70,42],[78,45,70,43],[79,10,71,8,"routeNames"],[79,20,71,18],[80,10,72,8,"routeParamList"],[80,24,72,22],[81,10,73,8,"routeGetIdList"],[82,8,74,6],[82,9,74,7],[82,10,74,8],[83,8,75,6],[83,15,75,13],[84,10,76,8],[84,13,76,11,"state"],[84,18,76,16],[85,10,77,8,"default"],[85,17,77,15],[85,19,77,17,"defaultStatus"],[85,32,77,30],[86,10,78,8,"stale"],[86,15,78,13],[86,17,78,15],[86,22,78,20],[87,10,79,8,"type"],[87,14,79,12],[87,16,79,14],[87,24,79,22],[88,10,80,8,"key"],[88,13,80,11],[88,15,80,13],[88,25,80,23],[88,29,80,23,"nanoid"],[88,46,80,29],[88,48,80,30],[88,49,80,31],[89,8,81,6],[89,9,81,7],[90,6,82,4],[90,7,82,5],[91,6,83,4,"getRehydratedState"],[91,24,83,22,"getRehydratedState"],[91,25,83,23,"partialState"],[91,37,83,35],[91,39,83,35,"_ref3"],[91,44,83,35],[91,46,87,7],[92,8,87,7],[92,12,83,37],[93,10,84,6,"routeNames"],[93,20,84,16],[94,10,85,6,"routeParamList"],[94,24,85,20],[95,10,86,6,"routeGetIdList"],[96,8,87,4],[96,9,87,5],[96,12,87,5,"_ref3"],[96,17,87,5],[97,8,88,6],[97,12,88,10,"partialState"],[97,24,88,22],[97,25,88,23,"stale"],[97,30,88,28],[97,35,88,33],[97,40,88,38],[97,42,88,40],[98,10,89,8],[98,17,89,15,"partialState"],[98,29,89,27],[99,8,90,6],[100,8,91,6],[100,12,91,10,"state"],[100,17,91,15],[100,20,91,18,"router"],[100,26,91,24],[100,27,91,25,"getRehydratedState"],[100,45,91,43],[100,46,91,44,"partialState"],[100,58,91,56],[100,60,91,58],[101,10,92,8,"routeNames"],[101,20,92,18],[102,10,93,8,"routeParamList"],[102,24,93,22],[103,10,94,8,"routeGetIdList"],[104,8,95,6],[104,9,95,7],[104,10,95,8],[105,8,96,6],[105,12,96,10,"isDrawerInHistory"],[105,29,96,27],[105,30,96,28,"partialState"],[105,42,96,40],[105,43,96,41],[105,45,96,43],[106,10,97,8],[107,10,98,8,"state"],[107,15,98,13],[107,18,98,16,"removeDrawerFromHistory"],[107,41,98,39],[107,42,98,40,"state"],[107,47,98,45],[107,48,98,46],[108,10,99,8,"state"],[108,15,99,13],[108,18,99,16,"addDrawerToHistory"],[108,36,99,34],[108,37,99,35,"state"],[108,42,99,40],[108,43,99,41],[109,8,100,6],[110,8,101,6],[110,15,101,13],[111,10,102,8],[111,13,102,11,"state"],[111,18,102,16],[112,10,103,8,"default"],[112,17,103,15],[112,19,103,17,"defaultStatus"],[112,32,103,30],[113,10,104,8,"type"],[113,14,104,12],[113,16,104,14],[113,24,104,22],[114,10,105,8,"key"],[114,13,105,11],[114,15,105,13],[114,25,105,23],[114,29,105,23,"nanoid"],[114,46,105,29],[114,48,105,30],[114,49,105,31],[115,8,106,6],[115,9,106,7],[116,6,107,4],[116,7,107,5],[117,6,108,4,"getStateForRouteFocus"],[117,27,108,25,"getStateForRouteFocus"],[117,28,108,26,"state"],[117,33,108,31],[117,35,108,33,"key"],[117,38,108,36],[117,40,108,38],[118,8,109,6],[118,14,109,12,"result"],[118,20,109,18],[118,23,109,21,"router"],[118,29,109,27],[118,30,109,28,"getStateForRouteFocus"],[118,51,109,49],[118,52,109,50,"state"],[118,57,109,55],[118,59,109,57,"key"],[118,62,109,60],[118,63,109,61],[119,8,110,6],[119,15,110,13,"closeDrawer"],[119,26,110,24],[119,27,110,25,"result"],[119,33,110,31],[119,34,110,32],[120,6,111,4],[120,7,111,5],[121,6,112,4,"getStateForAction"],[121,23,112,21,"getStateForAction"],[121,24,112,22,"state"],[121,29,112,27],[121,31,112,29,"action"],[121,37,112,35],[121,39,112,37,"options"],[121,46,112,44],[121,48,112,46],[122,8,113,6],[122,16,113,14,"action"],[122,22,113,20],[122,23,113,21,"type"],[122,27,113,25],[123,10,114,8],[123,15,114,13],[123,28,114,26],[124,12,115,10],[124,19,115,17,"openDrawer"],[124,29,115,27],[124,30,115,28,"state"],[124,35,115,33],[124,36,115,34],[125,10,116,8],[125,15,116,13],[125,29,116,27],[126,12,117,10],[126,19,117,17,"closeDrawer"],[126,30,117,28],[126,31,117,29,"state"],[126,36,117,34],[126,37,117,35],[127,10,118,8],[127,15,118,13],[127,30,118,28],[128,12,119,10],[128,16,119,14,"isDrawerInHistory"],[128,33,119,31],[128,34,119,32,"state"],[128,39,119,37],[128,40,119,38],[128,42,119,40],[129,14,120,12],[129,21,120,19,"removeDrawerFromHistory"],[129,44,120,42],[129,45,120,43,"state"],[129,50,120,48],[129,51,120,49],[130,12,121,10],[131,12,122,10],[131,19,122,17,"addDrawerToHistory"],[131,37,122,35],[131,38,122,36,"state"],[131,43,122,41],[131,44,122,42],[132,10,123,8],[132,15,123,13],[132,24,123,22],[133,10,124,8],[133,15,124,13],[133,25,124,23],[134,10,125,8],[134,15,125,13],[134,36,125,34],[135,12,126,10],[136,14,127,12],[136,20,127,18,"result"],[136,26,127,24],[136,29,127,27,"router"],[136,35,127,33],[136,36,127,34,"getStateForAction"],[136,53,127,51],[136,54,127,52,"state"],[136,59,127,57],[136,61,127,59,"action"],[136,67,127,65],[136,69,127,67,"options"],[136,76,127,74],[136,77,127,75],[137,14,128,12],[137,18,128,16,"result"],[137,24,128,22],[137,28,128,26],[137,32,128,30],[137,36,128,34,"result"],[137,42,128,40],[137,43,128,41,"index"],[137,48,128,46],[137,53,128,51,"state"],[137,58,128,56],[137,59,128,57,"index"],[137,64,128,62],[137,66,128,64],[138,16,129,14],[138,23,129,21,"closeDrawer"],[138,34,129,32],[138,35,129,33,"result"],[138,41,129,39],[138,42,129,40],[139,14,130,12],[140,14,131,12],[140,21,131,19,"result"],[140,27,131,25],[141,12,132,10],[142,10,133,8],[142,15,133,13],[142,24,133,22],[143,12,134,10],[143,16,134,14,"isDrawerInHistory"],[143,33,134,31],[143,34,134,32,"state"],[143,39,134,37],[143,40,134,38],[143,42,134,40],[144,14,135,12],[144,21,135,19,"removeDrawerFromHistory"],[144,44,135,42],[144,45,135,43,"state"],[144,50,135,48],[144,51,135,49],[145,12,136,10],[146,12,137,10],[146,19,137,17,"router"],[146,25,137,23],[146,26,137,24,"getStateForAction"],[146,43,137,41],[146,44,137,42,"state"],[146,49,137,47],[146,51,137,49,"action"],[146,57,137,55],[146,59,137,57,"options"],[146,66,137,64],[146,67,137,65],[147,10,138,8],[148,12,139,10],[148,19,139,17,"router"],[148,25,139,23],[148,26,139,24,"getStateForAction"],[148,43,139,41],[148,44,139,42,"state"],[148,49,139,47],[148,51,139,49,"action"],[148,57,139,55],[148,59,139,57,"options"],[148,66,139,64],[148,67,139,65],[149,8,140,6],[150,6,141,4],[150,7,141,5],[151,6,142,4,"actionCreators"],[151,20,142,18],[151,22,142,20,"DrawerActions"],[152,4,143,2],[152,5,143,3],[153,2,144,0],[154,0,144,1]],"functionMap":{"names":["<global>","DrawerActions.openDrawer","DrawerActions.closeDrawer","DrawerActions.toggleDrawer","DrawerRouter","isDrawerInHistory","state.history.some$argument_0","addDrawerToHistory","removeDrawerFromHistory","state.history.filter$argument_0","openDrawer","closeDrawer","getInitialState","getRehydratedState","getStateForRouteFocus","getStateForAction"],"mappings":"AAA;ECM;GDI;EEC;GFI;EGC;GHI;OIE;4BCK,qCC,0BD,ED;6BGC;GHW;kCIC;oCCM,0BD;GJE;qBMC;GNK;sBOC;GPK;IQI;KRiB;ISC;KTwB;IUC;KVG;IWC;KX6B;CJG"}},"type":"js/module"}]}